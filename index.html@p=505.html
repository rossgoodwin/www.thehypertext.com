<!DOCTYPE html>
<html lang="en-US">
	<head>
	    <link href='http://fonts.googleapis.com/css?family=Cousine|Open+Sans:400italic,700italic,400,700' rel='stylesheet' type='text/css'>
		<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
		<title>THE HYPERTEXT</title>
		<meta http-equiv="Content-language" content="en-US" />
		<link rel="profile" href="http://gmpg.org/xfn/11" />
		<link rel="shortcut icon" href="wp-content/themes/sight/images/favico.ico" type="image/x-icon" />
		<script type='text/javascript'>function ctSetCookie(c_name, value, def_value){document.cookie = c_name + '=' + escape(value) + '; path=/';}ctSetCookie('ct_checkjs', '197926104', '0');</script><link rel='dns-prefetch' href='http://s.w.org/' />
<link rel="alternate" type="application/rss+xml" title="THE HYPERTEXT &raquo; Feed" href="feed/index.html" />
<link rel='stylesheet' id='crayon-css'  href='wp-content/plugins/crayon-syntax-highlighter/css/min/crayon.min.css@ver=_2.7.2_beta.css' type='text/css' media='all' />
<link rel='stylesheet' id='crayon-theme-classic-css'  href='wp-content/plugins/crayon-syntax-highlighter/themes/classic/classic.css@ver=_2.7.2_beta.css' type='text/css' media='all' />
<link rel='stylesheet' id='crayon-font-monaco-css'  href='wp-content/plugins/crayon-syntax-highlighter/fonts/monaco.css@ver=_2.7.2_beta.css' type='text/css' media='all' />
<link rel='stylesheet' id='wp-block-library-css'  href='wp-includes/css/dist/block-library/style.min.css@ver=5.0.4.css' type='text/css' media='all' />
<link rel='stylesheet' id='sight-style-css'  href='wp-content/themes/sight/style.css@ver=5.0.4.css' type='text/css' media='all' />
<!--[if IE]>
<link rel='stylesheet' id='sight-ie-css'  href='http://www.thehypertext.com/wp-content/themes/sight/ie.css?ver=20131217' type='text/css' media='all' />
<![endif]-->
<script type='text/javascript' src='wp-includes/js/jquery/jquery.js@ver=1.12.4'></script>
<script type='text/javascript' src='wp-includes/js/jquery/jquery-migrate.min.js@ver=1.4.1'></script>
<script type='text/javascript'>
/* <![CDATA[ */
var CrayonSyntaxSettings = {"version":"_2.7.2_beta","is_admin":"0","ajaxurl":"http:\/\/www.thehypertext.com\/wp-admin\/admin-ajax.php","prefix":"crayon-","setting":"crayon-setting","selected":"crayon-setting-selected","changed":"crayon-setting-changed","special":"crayon-setting-special","orig_value":"data-orig-value","debug":""};
var CrayonSyntaxStrings = {"copy":"Press %s to Copy, %s to Paste","minimize":"Click To Expand Code"};
/* ]]> */
</script>
<script type='text/javascript' src='wp-content/plugins/crayon-syntax-highlighter/js/min/crayon.min.js@ver=_2.7.2_beta'></script>
<script type='text/javascript' src='wp-content/plugins/cleantalk-spam-protect/js/apbct-public.js@ver=5.114'></script>
<script type='text/javascript'>
/* <![CDATA[ */
var ctNocache = {"ajaxurl":"http:\/\/www.thehypertext.com\/wp-admin\/admin-ajax.php","info_flag":"","set_cookies_flag":"","blog_home":"http:\/\/www.thehypertext.com\/"};
/* ]]> */
</script>
<script type='text/javascript' src='wp-content/plugins/cleantalk-spam-protect/inc/cleantalk_nocache.js@ver=5.114'></script>
<script type='text/javascript' src='wp-content/themes/sight/js/jquery.cycle.all.min.js@ver=20131219'></script>
<script type='text/javascript' src='wp-content/themes/sight/js/jquery.cookie.js@ver=20131219'></script>
<link rel='https://api.w.org/' href='wp-json/index.html' />
<link rel="EditURI" type="application/rsd+xml" title="RSD" href="xmlrpc.php@rsd" />
<link rel='prev' title='Text Clock' href='index.html@p=497.html' />
<link rel='next' title='Traveler&#8217;s Lamp, Part II' href='index.html@p=560.html' />
<meta name="generator" content="WordPress 5.0.4" />
<link rel="canonical" href="index.html@p=505.html" />
<link rel='shortlink' href='index.html@p=505.html' />
<link rel="alternate" type="application/json+oembed" href="wp-json/oembed/1.0/embed@url=http%253A%252F%252Fwww.thehypertext.com%252F2015%252F05%252F08%252Fword-camera-part-ii%252F" />
<link rel="alternate" type="text/xml+oembed" href="wp-json/oembed/1.0/embed@url=http%253A%252F%252Fwww.thehypertext.com%252F2015%252F05%252F08%252Fword-camera-part-ii%252F&amp;format=xml" />
		        <script>
          (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
          (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
          m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
          })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

          ga('create', 'UA-50113889-5', 'auto');
          ga('send', 'pageview');

        </script>
	</head>
	<body class="post-template-default single single-post postid-505 single-format-standard">
		<div class="wrapper">
			<div class="header clear">
				<div class="logo">
					<p class="th_logo_titletags">&lt;title&gt;</p>
					<p class="th_logo">&nbsp;&nbsp;<a class="th_logo_link" href="index.html">THE HYPERTEXT</a></p>
					<p class="th_logo_titletags">&lt;&#47;title&gt;</p>
					<p class="th_logo_rg">&lt;&#33;-- <a class="th_logo_link" href="http://rossgoodwin.com">Ross Goodwin</a> @ <a class="th_logo_link" href="http://itp.nyu.edu">ITP</a> --&gt;</p>
				</div>

				
				<div class="search_form">
	<form method="get" id="searchform" action="index.html">
		<fieldset>
			<input name="s" type="text" onfocus="if(this.value=='Search') this.value='';" onblur="if(this.value=='') this.value='Search';" value="Search" />
			<button type="submit"></button>
		</fieldset>
	</form>
</div>

							</div>

			<div class="nav"><ul id="dd" class="dd"><li id="menu-item-617" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-617"><a href="category/fall-2015/data-personal/index.html">Data Personalization</a></li>
<li id="menu-item-619" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-619"><a href="category/fall-2015/a-to-z/index.html">Programming A to Z</a></li>
<li id="menu-item-621" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-621"><a href="category/fall-2015/temp-exp/index.html">Temporary Expert</a></li>
<li id="menu-item-620" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-620"><a href="category/fall-2015/project-dev/index.html">Project Development Studio</a></li>
<li id="menu-item-768" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-768"><a href="category/fall-2015/learning-machines/index.html">Learning Machines</a></li>
</ul></div>
			
			<!-- Container -->
			<div id="container" class="clear">
				<!-- Content -->
				<div id="content">
			
		<div class="content-title">
			<a href="category/spring-2015/convo-comp/index.html" rel="category tag">Convo Comp</a> <span>/</span> <a href="category/spring-2015/remix/index.html" rel="category tag">Remix</a>			<a href="http://facebook.com/share.php?u=http://www.thehypertext.com/2015/05/08/word-camera-part-ii/&amp;t=word.camera%2C+Part+II" target="_blank" class="f" title="Share on Facebook"></a>
			<a href="http://twitter.com/home?status=word.camera, Part II http://tinyurl.com/owahlsa" target="_blank" class="t" title="Spread the word on Twitter"></a>
			<a href="http://digg.com/submit?phase=2&amp;url=http://www.thehypertext.com/2015/05/08/word-camera-part-ii/&amp;title=word.camera, Part II" target="_blank" class="di" title="Bookmark on Del.icio.us"></a>
			<a href="http://stumbleupon.com/submit?url=http://www.thehypertext.com/2015/05/08/word-camera-part-ii/&amp;title=word.camera%2C+Part+II" target="_blank" class="su" title="Share on StumbleUpon"></a>
		</div>

		<div class="entry">
			<div class="single clear post-505 post type-post status-publish format-standard has-post-thumbnail hentry category-convo-comp category-remix tag-art tag-artifical-intelligence tag-code tag-code-poetry tag-computational-media tag-computer tag-convo-comp tag-fiction tag-fiction-camera tag-generative tag-interactive tag-lexography tag-mamiya tag-natural-language-generation tag-natural-language-processing tag-photography tag-physical-computing tag-poetry tag-programming tag-python tag-raspberry-pi tag-remix tag-word-camera tag-wordcamera" id="post_505">
				<div class="post-meta">
					<h1>word.camera, Part II</h1>
					by <span class="post-author"><a href="author/rg/index.html" title="Posts by rg">rg</a></span> on <span class="post-date">May 8, 2015</span> &bull; <span>9:50 pm</span>					<a
						href="index.html@p=505.html#comments" class="post-comms">No Comments</a></div>
				<div class="post-content"><p style="text-align: center;"><a title="Part I" href="index.html@p=481.html" target="_blank"><strong>Click Here for Part I</strong></a></p>
<hr />
<p><a href="wp-content/uploads/2015/05/11161692_10100527204674408_7877879408640753455_o.jpg"><img class="aligncenter wp-image-524 size-large" src="wp-content/uploads/2015/05/11161692_10100527204674408_7877879408640753455_o-1024x685.jpg" alt="11161692_10100527204674408_7877879408640753455_o" width="610" height="408" srcset="wp-content/uploads/2015/05/11161692_10100527204674408_7877879408640753455_o-1024x685.jpg 1024w, wp-content/uploads/2015/05/11161692_10100527204674408_7877879408640753455_o-300x201.jpg 300w" sizes="(max-width: 610px) 100vw, 610px" /></a></p>
<hr />
<p>For my final projects in <em>Conversation and Computation</em> with <a title="Lauren McCarthy" href="http://lauren-mccarthy.com/" target="_blank">Lauren McCarthy</a> and <em>This Is The Remix</em> with <a href="http://rouxpz.com/" target="_blank">R<span id="site-title">oopa Vasudevan</span></a>, I iterated on my <a title="word.camera" href="https://word.camera" target="_blank">word.camera</a> project. I added a few new features to the web application, including a private API that I used to enable the creation of a physical version of word.camera inside a <a title="Mamiya C33" href="http://camerapedia.wikia.com/wiki/Mamiya_C33_Professional" target="_blank">Mamiya C33 TLR</a>.</p>
<p>The current version of the code remains open source and <a href="https://github.com/rossgoodwin/photosynthesis" target="_blank">available on GitHub</a>, and the project continues to receive <a href="http://motherboard.vice.com/read/the-app-that-translates-your-pictures-into-words" target="_blank">positive mentions</a> <a href="http://www.theglobeandmail.com/arts/books-and-media/russell-smith-art-project-wordcamera-is-the-coolest-selfie-you-can-take/article24219761/" target="_blank">in the press</a>.</p>
<p>On April 19, I announced two new features for word.camera via the <a title="Lexography Email Newsletter" href="https://tinyletter.com/lexography">TinyLetter email newsletter</a> I advertised on the site.</p>
<blockquote><p>Hello,</p>
<p>Thank you for subscribing to this newsletter, wherein I will provide occasional updates regarding my project, <a href="http://word.camera/">word.camera</a>.</p>
<p>I wanted to let you know about two new features I added to the site in the past week:</p>
<p><a href="https://word.camera/albums">word.camera/albums</a> You can now generate ebooks (DRM-free ePub format) from sets of lexographs.</p>
<p><a href="https://word.camera/postcards">word.camera/postcards</a> You can support word.camera by sending a lexograph as a postcard, anywhere in the world for $5. I am currently a graduate student, and proceeds will help cover the cost of maintaining this web application as a free, open source project.</p>
<p>Also:</p>
<p><a href="https://word.camera/a/XwP59n1zR">word.camera/a/XwP59n1zR</a> A lexograph album containing some of the best results I&#8217;ve gotten so far with the camera on my phone.</p>
<p><a href="https://word.camera/i/AWolrqy4E">1</a>, <a href="https://word.camera/i/zAQozoyOB">2</a>, <a href="https://word.camera/i/ypQO2XnNB">3</a> A few random lexographs I did not make that were popular on social media.</p>
<p>Best,</p>
<p>Ross Goodwin<br />
<a href="http://rossgoodwin.com/">rossgoodwin.com</a><br />
<a href="https://word.camera/">word.camera</a></p></blockquote>
<p>Next, I set to work on the physical version. I decided to use a technique I developed <a title="Dr. Gonzo" href="index.html@p=434.html" target="_blank">on another project earlier in the semester</a> to create word.camera epitaphs composed of highly relevant paragraphs from novels. To ensure fair use of copyrighted materials, I determined that all of this additional data would be processed locally on the physical camera.</p>
<p>I developed a collection of data from a combination of novels that are considered classics and those I personally enjoyed, and I included only paragraphs over 99 characters in length. In total, the collection contains 7,113,809 words from 48 books.</p>
<p>Below is an infographic showing all the books used in my corpus, and their relative included word counts (click on it for the full-size image).</p>
<p><a href="wp-content/uploads/2015/05/A79449E2CDA5D178.png"><img class="aligncenter wp-image-555 size-medium" src="wp-content/uploads/2015/05/A79449E2CDA5D178-134x300.png" alt="A79449E2CDA5D178" width="134" height="300" srcset="wp-content/uploads/2015/05/A79449E2CDA5D178-134x300.png 134w, wp-content/uploads/2015/05/A79449E2CDA5D178-458x1024.png 458w" sizes="(max-width: 134px) 100vw, 134px" /></a></p>
<div></div>
<p>To build the physical version of word.camera, I purchased the following materials:</p>
<ul>
<li>Raspberry Pi 2 board</li>
<li>Raspberry Pi camera module</li>
<li>Two (2) 10,000 mAh batteries</li>
<li>Thermal receipt printer</li>
<li>40 female-to-male jumper wires</li>
<li>Three (3) extra-small prototyping perf boards</li>
<li>LED button</li>
</ul>
<p>After some tinkering, I was able to put together the arrangement pictured below, which could print raw word.camera output on the receipt printer.</p>
<p><a href="wp-content/uploads/2015/05/IMG_0354.jpg"><img class="aligncenter size-medium wp-image-525" src="wp-content/uploads/2015/05/IMG_0354-300x300.jpg" alt="IMG_0354" width="300" height="300" srcset="wp-content/uploads/2015/05/IMG_0354-300x300.jpg 300w, wp-content/uploads/2015/05/IMG_0354-290x290.jpg 290w, wp-content/uploads/2015/05/IMG_0354-1024x1024.jpg 1024w, wp-content/uploads/2015/05/IMG_0354-50x50.jpg 50w, wp-content/uploads/2015/05/IMG_0354.jpg 1280w" sizes="(max-width: 300px) 100vw, 300px" /></a></p>
<p>I thought for a long time about the type of case I wanted to put the camera in. My original idea was a photobooth, but I felt that a portable camera—along the lines of <a href="http://mattrichardson.com/Descriptive-Camera/" target="_blank">Matt Richardson&#8217;s Descriptive Camera</a>—might take better advantage of the Raspberry Pi&#8217;s small footprint.</p>
<p>Rather than fabricating my own case, I determined that an antique film camera might provide a familiar exterior to draw in people not familiar with the project. (And I was creating it for a remix-themed class, after all.) So I purchased a lot of three broken TLR film cameras on eBay, and the Mamiya C33 was in the best condition of all of them, so I gutted it. (N.B. I&#8217;m an antique camera enthusiast—I own a working version of the C33&#8217;s predecessor, the C2—and, despite its broken condition, cutting open the bellows of the C33 felt sacrilegious.)</p>
<p>I laser cut some clear acrylic I had left over from the traveler&#8217;s lamp project to fill the lens holes and mount the LED button on the back of the camera. Here are some photos of the finished product:</p>
<p><a href="wp-content/uploads/2015/05/9503_20150507_tlr_1000px1.jpg"><img class="aligncenter size-medium wp-image-534" src="wp-content/uploads/2015/05/9503_20150507_tlr_1000px1-300x300.jpg" alt="9503_20150507_tlr_1000px" width="300" height="300" srcset="wp-content/uploads/2015/05/9503_20150507_tlr_1000px1-300x300.jpg 300w, wp-content/uploads/2015/05/9503_20150507_tlr_1000px1-290x290.jpg 290w, wp-content/uploads/2015/05/9503_20150507_tlr_1000px1-50x50.jpg 50w, wp-content/uploads/2015/05/9503_20150507_tlr_1000px1.jpg 1000w" sizes="(max-width: 300px) 100vw, 300px" /></a></p>
<p><a href="wp-content/uploads/2015/05/9502_20150507_tlr_1000px.jpg"><img class="aligncenter size-medium wp-image-533" src="wp-content/uploads/2015/05/9502_20150507_tlr_1000px-300x300.jpg" alt="9502_20150507_tlr_1000px" width="300" height="300" srcset="wp-content/uploads/2015/05/9502_20150507_tlr_1000px-300x300.jpg 300w, wp-content/uploads/2015/05/9502_20150507_tlr_1000px-290x290.jpg 290w, wp-content/uploads/2015/05/9502_20150507_tlr_1000px-50x50.jpg 50w, wp-content/uploads/2015/05/9502_20150507_tlr_1000px.jpg 1000w" sizes="(max-width: 300px) 100vw, 300px" /></a></p>
<p><a href="wp-content/uploads/2015/05/9509_20150507_tlr_1000px.jpg"><img class="aligncenter size-medium wp-image-535" src="wp-content/uploads/2015/05/9509_20150507_tlr_1000px-300x300.jpg" alt="9509_20150507_tlr_1000px" width="300" height="300" srcset="wp-content/uploads/2015/05/9509_20150507_tlr_1000px-300x300.jpg 300w, wp-content/uploads/2015/05/9509_20150507_tlr_1000px-290x290.jpg 290w, wp-content/uploads/2015/05/9509_20150507_tlr_1000px-50x50.jpg 50w, wp-content/uploads/2015/05/9509_20150507_tlr_1000px.jpg 1000w" sizes="(max-width: 300px) 100vw, 300px" /></a></p>
<p><a href="wp-content/uploads/2015/05/9496_20150507_tlr_1000px.jpg"><img class="aligncenter size-medium wp-image-532" src="wp-content/uploads/2015/05/9496_20150507_tlr_1000px-300x300.jpg" alt="9496_20150507_tlr_1000px" width="300" height="300" srcset="wp-content/uploads/2015/05/9496_20150507_tlr_1000px-300x300.jpg 300w, wp-content/uploads/2015/05/9496_20150507_tlr_1000px-290x290.jpg 290w, wp-content/uploads/2015/05/9496_20150507_tlr_1000px-50x50.jpg 50w, wp-content/uploads/2015/05/9496_20150507_tlr_1000px.jpg 1000w" sizes="(max-width: 300px) 100vw, 300px" /></a></p>
<p><a href="wp-content/uploads/2015/05/9493_20150507_tlr_1000px.jpg"><img class="aligncenter size-medium wp-image-531" src="wp-content/uploads/2015/05/9493_20150507_tlr_1000px-300x300.jpg" alt="9493_20150507_tlr_1000px" width="300" height="300" srcset="wp-content/uploads/2015/05/9493_20150507_tlr_1000px-300x300.jpg 300w, wp-content/uploads/2015/05/9493_20150507_tlr_1000px-290x290.jpg 290w, wp-content/uploads/2015/05/9493_20150507_tlr_1000px-50x50.jpg 50w, wp-content/uploads/2015/05/9493_20150507_tlr_1000px.jpg 1000w" sizes="(max-width: 300px) 100vw, 300px" /></a></p>
<p><a href="wp-content/uploads/2015/05/9513_20150507_tlr_1000px.jpg"><img class="aligncenter size-medium wp-image-536" src="wp-content/uploads/2015/05/9513_20150507_tlr_1000px-300x200.jpg" alt="9513_20150507_tlr_1000px" width="300" height="200" srcset="wp-content/uploads/2015/05/9513_20150507_tlr_1000px-300x200.jpg 300w, wp-content/uploads/2015/05/9513_20150507_tlr_1000px.jpg 1000w" sizes="(max-width: 300px) 100vw, 300px" /></a></p>
<p>And here is the code that&#8217;s running on the Raspberry Pi (the crux of the matching algorithm is on line 90):</p><!-- Crayon Syntax Highlighter v_2.7.2_beta -->

		<div id="crayon-5d4ba6558f81d260110175" class="crayon-syntax crayon-theme-classic crayon-font-monaco crayon-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover" style=" max-width: 500px; margin-top: 12px; margin-bottom: 12px; font-size: 12px !important; line-height: 15px !important;">
		
			<div class="crayon-toolbar" data-settings=" mouseover overlay hide delay" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"><span class="crayon-title">Fiction Camera</span>
			<div class="crayon-tools" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"><div class="crayon-button crayon-nums-button" title="Toggle Line Numbers"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-plain-button" title="Toggle Plain Code"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-wrap-button" title="Toggle Line Wrap"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-expand-button" title="Expand Code"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-copy-button" title="Copy"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-popup-button" title="Open Code In New Window"><div class="crayon-button-icon"></div></div><span class="crayon-language">Python</span></div></div>
			<div class="crayon-info" style="min-height: 16.8px !important; line-height: 16.8px !important;"></div>
			<div class="crayon-plain-wrap"><textarea wrap="soft" class="crayon-plain print-no" data-settings="dblclick" readonly style="-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 12px !important; line-height: 15px !important;">
import uuid
import picamera
import RPi.GPIO as GPIO
import requests
from time import sleep
import os
import json
from Adafruit_Thermal import *
from alchemykey import apikey
import time

# SHUTTER COUNT / startNo GLOBAL
startNo = 0

# Init Printer
printer = Adafruit_Thermal("/dev/ttyAMA0", 19200, timeout=5)
printer.setSize('S')
printer.justify('L')
printer.setLineHeight(36)

# Init Camera
camera = picamera.PiCamera()

# Init GPIO
GPIO.setmode(GPIO.BCM)

# Working Dir
cwd = '/home/pi/tlr'

# Init Button Pin
GPIO.setup(21, GPIO.IN, pull_up_down=GPIO.PUD_UP)

# Init LED Pin
GPIO.setup(20, GPIO.OUT)

# Init Flash Pin
GPIO.setup(16, GPIO.OUT)

# LED and Flash Off
GPIO.output(20, False)
GPIO.output(16, False)

# Load lit list
lit = json.load( open(cwd+'/lit.json', 'r') )


def blink(n):
    for _ in range(n):
        GPIO.output(20, True)
        sleep(0.2)
        GPIO.output(20, False)
        sleep(0.2)

def takePhoto():
    fn = str(int(time.time()))+'.jpg' # TODO: Change to timestamp hash
    fp = cwd+'/img/'+fn
    GPIO.output(16, True)
    camera.capture(fp)
    GPIO.output(16, False)
    return fp

def getText(imgPath):
    endPt = 'https://word.camera/img'
    payload = {'Script': 'Yes'}
    files = {'file': open(imgPath, 'rb')}
    response = requests.post(endPt, data=payload, files=files)
    return response.text

def alchemy(text):
    endpt = "http://access.alchemyapi.com/calls/text/TextGetRankedConcepts"
    payload = {"apikey": apikey,
               "text": text,
               "outputMode": "json",
               "showSourceText": 0,
               "knowledgeGraph": 1,
               "maxRetrieve": 500}
    headers = {'content-type': 'application/x-www-form-urlencoded'}
    r = requests.post(endpt, data=payload, headers=headers)
    return r.json()

def findIntersection(testDict):
    returnText = ""
    returnTitle = ""
    returnAuthor = ""
    recordInter = set(testDict.keys())
    relRecord = 0.0
    for doc in lit:
        inter = set(doc['concepts'].keys()) &amp; set(testDict.keys())
        if inter:
            relSum = sum([doc['concepts'][tag]+testDict[tag] for tag in inter])
            if relSum &gt; relRecord: 
                relRecord = relSum
                recordInter = inter
                returnText = doc['text']
                returnTitle = doc['title']
                returnAuthor = doc['author']
    doc = {
        'text': returnText,
        'title': returnTitle,
        'author': returnAuthor,
        'inter': recordInter,
        'record': relRecord
    }
    return doc

def puncReplace(text):
    replaceDict = {
        '&amp;#8212;': '---',
        '&amp;#8211;': '--',
        '&amp;#8216;': "\'",
        '&amp;#8217;': "\'",
        '&amp;#8220;': '\"',
        '&amp;#8221;': '\"',
        '&amp;#180;': "\'",
        '&amp;#235;': 'e',
        '&amp;#241;': 'n'
    }

    for key in replaceDict:
        text = text.replace(key, replaceDict[key])

    return text


blink(5)
while 1:
    input_state = GPIO.input(21)
    if not input_state:
        GPIO.output(20, True)
        try:
            # Get Word.Camera Output
            print "GETTING TEXT FROM WORD.CAMERA..."
            wcText = getText(takePhoto())
            blink(3)
            GPIO.output(20, True)
            print "...GOT TEXT"

            # Print
            # print "PRINTING PRIMARY"
            # startNo += 1
            # printer.println("No. %i\n\n\n%s" % (startNo, wcText))

            # Get Alchemy Data
            print "GETTING ALCHEMY DATA..."
            data = alchemy(wcText)
            tagRelDict = {concept['text']:float(concept['relevance']) for concept in data['concepts']}
            blink(3)
            GPIO.output(20, True)
            print "...GOT DATA"

            # Make Match
            print "FINDING MATCH..."
            interDoc = findIntersection(tagRelDict)
            print interDoc
            interText = puncReplace(interDoc['text'].encode('ascii', 'xmlcharrefreplace'))
            interTitle = puncReplace(interDoc['title'].encode('ascii', 'xmlcharrefreplace'))
            interAuthor = puncReplace(interDoc['author'].encode('ascii', 'xmlcharrefreplace'))
            blink(3)
            GPIO.output(20, True)
            print "...FOUND"

            grafList = [p for p in wcText.split('\n') if p]

            # Choose primary paragraph
            primaryText = min(grafList, key=lambda x: x.count('#'))
            url = 'word.camera/i/' + grafList[-1].strip().replace('#', '')

            # Print
            print "PRINTING..."
            startNo += 1
            printStr = "No. %i\n\n\n%s\n\n%s\n\n\n\nEPITAPH\n\n%s\n\nFrom %s by %s" % (startNo, primaryText, url, interText, interTitle, interAuthor)
            printer.println(printStr)

        except:
            print "SOMETHING BROKE"
            blink(15)

        GPIO.output(20, False)</textarea></div>
			<div class="crayon-main" style=" max-height: 500px; max-width: 500px;">
				<table class="crayon-table">
					<tr class="crayon-row">
				<td class="crayon-nums " data-settings="show">
					<div class="crayon-nums-content" style="font-size: 12px !important; line-height: 15px !important;"><div class="crayon-num" data-line="crayon-5d4ba6558f81d260110175-1">1</div><div class="crayon-num crayon-striped-num" data-line="crayon-5d4ba6558f81d260110175-2">2</div><div class="crayon-num" data-line="crayon-5d4ba6558f81d260110175-3">3</div><div class="crayon-num crayon-striped-num" data-line="crayon-5d4ba6558f81d260110175-4">4</div><div class="crayon-num" data-line="crayon-5d4ba6558f81d260110175-5">5</div><div class="crayon-num crayon-striped-num" data-line="crayon-5d4ba6558f81d260110175-6">6</div><div class="crayon-num" data-line="crayon-5d4ba6558f81d260110175-7">7</div><div class="crayon-num crayon-striped-num" data-line="crayon-5d4ba6558f81d260110175-8">8</div><div class="crayon-num" data-line="crayon-5d4ba6558f81d260110175-9">9</div><div class="crayon-num crayon-striped-num" data-line="crayon-5d4ba6558f81d260110175-10">10</div><div class="crayon-num" data-line="crayon-5d4ba6558f81d260110175-11">11</div><div class="crayon-num crayon-striped-num" data-line="crayon-5d4ba6558f81d260110175-12">12</div><div class="crayon-num" data-line="crayon-5d4ba6558f81d260110175-13">13</div><div class="crayon-num crayon-striped-num" data-line="crayon-5d4ba6558f81d260110175-14">14</div><div class="crayon-num" data-line="crayon-5d4ba6558f81d260110175-15">15</div><div class="crayon-num crayon-striped-num" data-line="crayon-5d4ba6558f81d260110175-16">16</div><div class="crayon-num" data-line="crayon-5d4ba6558f81d260110175-17">17</div><div class="crayon-num crayon-striped-num" data-line="crayon-5d4ba6558f81d260110175-18">18</div><div class="crayon-num" data-line="crayon-5d4ba6558f81d260110175-19">19</div><div class="crayon-num crayon-striped-num" data-line="crayon-5d4ba6558f81d260110175-20">20</div><div class="crayon-num" data-line="crayon-5d4ba6558f81d260110175-21">21</div><div class="crayon-num crayon-striped-num" data-line="crayon-5d4ba6558f81d260110175-22">22</div><div class="crayon-num" data-line="crayon-5d4ba6558f81d260110175-23">23</div><div class="crayon-num crayon-striped-num" data-line="crayon-5d4ba6558f81d260110175-24">24</div><div class="crayon-num" data-line="crayon-5d4ba6558f81d260110175-25">25</div><div class="crayon-num crayon-striped-num" data-line="crayon-5d4ba6558f81d260110175-26">26</div><div class="crayon-num" data-line="crayon-5d4ba6558f81d260110175-27">27</div><div class="crayon-num crayon-striped-num" data-line="crayon-5d4ba6558f81d260110175-28">28</div><div class="crayon-num" data-line="crayon-5d4ba6558f81d260110175-29">29</div><div class="crayon-num crayon-striped-num" data-line="crayon-5d4ba6558f81d260110175-30">30</div><div class="crayon-num" data-line="crayon-5d4ba6558f81d260110175-31">31</div><div class="crayon-num crayon-striped-num" data-line="crayon-5d4ba6558f81d260110175-32">32</div><div class="crayon-num" data-line="crayon-5d4ba6558f81d260110175-33">33</div><div class="crayon-num crayon-striped-num" data-line="crayon-5d4ba6558f81d260110175-34">34</div><div class="crayon-num" data-line="crayon-5d4ba6558f81d260110175-35">35</div><div class="crayon-num crayon-striped-num" data-line="crayon-5d4ba6558f81d260110175-36">36</div><div class="crayon-num" data-line="crayon-5d4ba6558f81d260110175-37">37</div><div class="crayon-num crayon-striped-num" data-line="crayon-5d4ba6558f81d260110175-38">38</div><div class="crayon-num" data-line="crayon-5d4ba6558f81d260110175-39">39</div><div class="crayon-num crayon-striped-num" data-line="crayon-5d4ba6558f81d260110175-40">40</div><div class="crayon-num" data-line="crayon-5d4ba6558f81d260110175-41">41</div><div class="crayon-num crayon-striped-num" data-line="crayon-5d4ba6558f81d260110175-42">42</div><div class="crayon-num" data-line="crayon-5d4ba6558f81d260110175-43">43</div><div class="crayon-num crayon-striped-num" data-line="crayon-5d4ba6558f81d260110175-44">44</div><div class="crayon-num" data-line="crayon-5d4ba6558f81d260110175-45">45</div><div class="crayon-num crayon-striped-num" data-line="crayon-5d4ba6558f81d260110175-46">46</div><div class="crayon-num" data-line="crayon-5d4ba6558f81d260110175-47">47</div><div class="crayon-num crayon-striped-num" data-line="crayon-5d4ba6558f81d260110175-48">48</div><div class="crayon-num" data-line="crayon-5d4ba6558f81d260110175-49">49</div><div class="crayon-num crayon-striped-num" data-line="crayon-5d4ba6558f81d260110175-50">50</div><div class="crayon-num" data-line="crayon-5d4ba6558f81d260110175-51">51</div><div class="crayon-num crayon-striped-num" data-line="crayon-5d4ba6558f81d260110175-52">52</div><div class="crayon-num" data-line="crayon-5d4ba6558f81d260110175-53">53</div><div class="crayon-num crayon-striped-num" data-line="crayon-5d4ba6558f81d260110175-54">54</div><div class="crayon-num" data-line="crayon-5d4ba6558f81d260110175-55">55</div><div class="crayon-num crayon-striped-num" data-line="crayon-5d4ba6558f81d260110175-56">56</div><div class="crayon-num" data-line="crayon-5d4ba6558f81d260110175-57">57</div><div class="crayon-num crayon-striped-num" data-line="crayon-5d4ba6558f81d260110175-58">58</div><div class="crayon-num" data-line="crayon-5d4ba6558f81d260110175-59">59</div><div class="crayon-num crayon-striped-num" data-line="crayon-5d4ba6558f81d260110175-60">60</div><div class="crayon-num" data-line="crayon-5d4ba6558f81d260110175-61">61</div><div class="crayon-num crayon-striped-num" data-line="crayon-5d4ba6558f81d260110175-62">62</div><div class="crayon-num" data-line="crayon-5d4ba6558f81d260110175-63">63</div><div class="crayon-num crayon-striped-num" data-line="crayon-5d4ba6558f81d260110175-64">64</div><div class="crayon-num" data-line="crayon-5d4ba6558f81d260110175-65">65</div><div class="crayon-num crayon-striped-num" data-line="crayon-5d4ba6558f81d260110175-66">66</div><div class="crayon-num" data-line="crayon-5d4ba6558f81d260110175-67">67</div><div class="crayon-num crayon-striped-num" data-line="crayon-5d4ba6558f81d260110175-68">68</div><div class="crayon-num" data-line="crayon-5d4ba6558f81d260110175-69">69</div><div class="crayon-num crayon-striped-num" data-line="crayon-5d4ba6558f81d260110175-70">70</div><div class="crayon-num" data-line="crayon-5d4ba6558f81d260110175-71">71</div><div class="crayon-num crayon-striped-num" data-line="crayon-5d4ba6558f81d260110175-72">72</div><div class="crayon-num" data-line="crayon-5d4ba6558f81d260110175-73">73</div><div class="crayon-num crayon-striped-num" data-line="crayon-5d4ba6558f81d260110175-74">74</div><div class="crayon-num" data-line="crayon-5d4ba6558f81d260110175-75">75</div><div class="crayon-num crayon-striped-num" data-line="crayon-5d4ba6558f81d260110175-76">76</div><div class="crayon-num" data-line="crayon-5d4ba6558f81d260110175-77">77</div><div class="crayon-num crayon-striped-num" data-line="crayon-5d4ba6558f81d260110175-78">78</div><div class="crayon-num" data-line="crayon-5d4ba6558f81d260110175-79">79</div><div class="crayon-num crayon-striped-num" data-line="crayon-5d4ba6558f81d260110175-80">80</div><div class="crayon-num" data-line="crayon-5d4ba6558f81d260110175-81">81</div><div class="crayon-num crayon-striped-num" data-line="crayon-5d4ba6558f81d260110175-82">82</div><div class="crayon-num" data-line="crayon-5d4ba6558f81d260110175-83">83</div><div class="crayon-num crayon-striped-num" data-line="crayon-5d4ba6558f81d260110175-84">84</div><div class="crayon-num" data-line="crayon-5d4ba6558f81d260110175-85">85</div><div class="crayon-num crayon-striped-num" data-line="crayon-5d4ba6558f81d260110175-86">86</div><div class="crayon-num" data-line="crayon-5d4ba6558f81d260110175-87">87</div><div class="crayon-num crayon-striped-num" data-line="crayon-5d4ba6558f81d260110175-88">88</div><div class="crayon-num" data-line="crayon-5d4ba6558f81d260110175-89">89</div><div class="crayon-num crayon-marked-num crayon-top crayon-bottom crayon-striped-num" data-line="crayon-5d4ba6558f81d260110175-90">90</div><div class="crayon-num" data-line="crayon-5d4ba6558f81d260110175-91">91</div><div class="crayon-num crayon-striped-num" data-line="crayon-5d4ba6558f81d260110175-92">92</div><div class="crayon-num" data-line="crayon-5d4ba6558f81d260110175-93">93</div><div class="crayon-num crayon-striped-num" data-line="crayon-5d4ba6558f81d260110175-94">94</div><div class="crayon-num" data-line="crayon-5d4ba6558f81d260110175-95">95</div><div class="crayon-num crayon-striped-num" data-line="crayon-5d4ba6558f81d260110175-96">96</div><div class="crayon-num" data-line="crayon-5d4ba6558f81d260110175-97">97</div><div class="crayon-num crayon-striped-num" data-line="crayon-5d4ba6558f81d260110175-98">98</div><div class="crayon-num" data-line="crayon-5d4ba6558f81d260110175-99">99</div><div class="crayon-num crayon-striped-num" data-line="crayon-5d4ba6558f81d260110175-100">100</div><div class="crayon-num" data-line="crayon-5d4ba6558f81d260110175-101">101</div><div class="crayon-num crayon-striped-num" data-line="crayon-5d4ba6558f81d260110175-102">102</div><div class="crayon-num" data-line="crayon-5d4ba6558f81d260110175-103">103</div><div class="crayon-num crayon-striped-num" data-line="crayon-5d4ba6558f81d260110175-104">104</div><div class="crayon-num" data-line="crayon-5d4ba6558f81d260110175-105">105</div><div class="crayon-num crayon-striped-num" data-line="crayon-5d4ba6558f81d260110175-106">106</div><div class="crayon-num" data-line="crayon-5d4ba6558f81d260110175-107">107</div><div class="crayon-num crayon-striped-num" data-line="crayon-5d4ba6558f81d260110175-108">108</div><div class="crayon-num" data-line="crayon-5d4ba6558f81d260110175-109">109</div><div class="crayon-num crayon-striped-num" data-line="crayon-5d4ba6558f81d260110175-110">110</div><div class="crayon-num" data-line="crayon-5d4ba6558f81d260110175-111">111</div><div class="crayon-num crayon-striped-num" data-line="crayon-5d4ba6558f81d260110175-112">112</div><div class="crayon-num" data-line="crayon-5d4ba6558f81d260110175-113">113</div><div class="crayon-num crayon-striped-num" data-line="crayon-5d4ba6558f81d260110175-114">114</div><div class="crayon-num" data-line="crayon-5d4ba6558f81d260110175-115">115</div><div class="crayon-num crayon-striped-num" data-line="crayon-5d4ba6558f81d260110175-116">116</div><div class="crayon-num" data-line="crayon-5d4ba6558f81d260110175-117">117</div><div class="crayon-num crayon-striped-num" data-line="crayon-5d4ba6558f81d260110175-118">118</div><div class="crayon-num" data-line="crayon-5d4ba6558f81d260110175-119">119</div><div class="crayon-num crayon-striped-num" data-line="crayon-5d4ba6558f81d260110175-120">120</div><div class="crayon-num" data-line="crayon-5d4ba6558f81d260110175-121">121</div><div class="crayon-num crayon-striped-num" data-line="crayon-5d4ba6558f81d260110175-122">122</div><div class="crayon-num" data-line="crayon-5d4ba6558f81d260110175-123">123</div><div class="crayon-num crayon-striped-num" data-line="crayon-5d4ba6558f81d260110175-124">124</div><div class="crayon-num" data-line="crayon-5d4ba6558f81d260110175-125">125</div><div class="crayon-num crayon-striped-num" data-line="crayon-5d4ba6558f81d260110175-126">126</div><div class="crayon-num" data-line="crayon-5d4ba6558f81d260110175-127">127</div><div class="crayon-num crayon-striped-num" data-line="crayon-5d4ba6558f81d260110175-128">128</div><div class="crayon-num" data-line="crayon-5d4ba6558f81d260110175-129">129</div><div class="crayon-num crayon-striped-num" data-line="crayon-5d4ba6558f81d260110175-130">130</div><div class="crayon-num" data-line="crayon-5d4ba6558f81d260110175-131">131</div><div class="crayon-num crayon-striped-num" data-line="crayon-5d4ba6558f81d260110175-132">132</div><div class="crayon-num" data-line="crayon-5d4ba6558f81d260110175-133">133</div><div class="crayon-num crayon-striped-num" data-line="crayon-5d4ba6558f81d260110175-134">134</div><div class="crayon-num" data-line="crayon-5d4ba6558f81d260110175-135">135</div><div class="crayon-num crayon-striped-num" data-line="crayon-5d4ba6558f81d260110175-136">136</div><div class="crayon-num" data-line="crayon-5d4ba6558f81d260110175-137">137</div><div class="crayon-num crayon-striped-num" data-line="crayon-5d4ba6558f81d260110175-138">138</div><div class="crayon-num" data-line="crayon-5d4ba6558f81d260110175-139">139</div><div class="crayon-num crayon-striped-num" data-line="crayon-5d4ba6558f81d260110175-140">140</div><div class="crayon-num" data-line="crayon-5d4ba6558f81d260110175-141">141</div><div class="crayon-num crayon-striped-num" data-line="crayon-5d4ba6558f81d260110175-142">142</div><div class="crayon-num" data-line="crayon-5d4ba6558f81d260110175-143">143</div><div class="crayon-num crayon-striped-num" data-line="crayon-5d4ba6558f81d260110175-144">144</div><div class="crayon-num" data-line="crayon-5d4ba6558f81d260110175-145">145</div><div class="crayon-num crayon-striped-num" data-line="crayon-5d4ba6558f81d260110175-146">146</div><div class="crayon-num" data-line="crayon-5d4ba6558f81d260110175-147">147</div><div class="crayon-num crayon-striped-num" data-line="crayon-5d4ba6558f81d260110175-148">148</div><div class="crayon-num" data-line="crayon-5d4ba6558f81d260110175-149">149</div><div class="crayon-num crayon-striped-num" data-line="crayon-5d4ba6558f81d260110175-150">150</div><div class="crayon-num" data-line="crayon-5d4ba6558f81d260110175-151">151</div><div class="crayon-num crayon-striped-num" data-line="crayon-5d4ba6558f81d260110175-152">152</div><div class="crayon-num" data-line="crayon-5d4ba6558f81d260110175-153">153</div><div class="crayon-num crayon-striped-num" data-line="crayon-5d4ba6558f81d260110175-154">154</div><div class="crayon-num" data-line="crayon-5d4ba6558f81d260110175-155">155</div><div class="crayon-num crayon-striped-num" data-line="crayon-5d4ba6558f81d260110175-156">156</div><div class="crayon-num" data-line="crayon-5d4ba6558f81d260110175-157">157</div><div class="crayon-num crayon-striped-num" data-line="crayon-5d4ba6558f81d260110175-158">158</div><div class="crayon-num" data-line="crayon-5d4ba6558f81d260110175-159">159</div><div class="crayon-num crayon-striped-num" data-line="crayon-5d4ba6558f81d260110175-160">160</div><div class="crayon-num" data-line="crayon-5d4ba6558f81d260110175-161">161</div><div class="crayon-num crayon-striped-num" data-line="crayon-5d4ba6558f81d260110175-162">162</div><div class="crayon-num" data-line="crayon-5d4ba6558f81d260110175-163">163</div><div class="crayon-num crayon-striped-num" data-line="crayon-5d4ba6558f81d260110175-164">164</div><div class="crayon-num" data-line="crayon-5d4ba6558f81d260110175-165">165</div><div class="crayon-num crayon-striped-num" data-line="crayon-5d4ba6558f81d260110175-166">166</div><div class="crayon-num" data-line="crayon-5d4ba6558f81d260110175-167">167</div><div class="crayon-num crayon-striped-num" data-line="crayon-5d4ba6558f81d260110175-168">168</div><div class="crayon-num" data-line="crayon-5d4ba6558f81d260110175-169">169</div><div class="crayon-num crayon-striped-num" data-line="crayon-5d4ba6558f81d260110175-170">170</div><div class="crayon-num" data-line="crayon-5d4ba6558f81d260110175-171">171</div><div class="crayon-num crayon-striped-num" data-line="crayon-5d4ba6558f81d260110175-172">172</div><div class="crayon-num" data-line="crayon-5d4ba6558f81d260110175-173">173</div><div class="crayon-num crayon-striped-num" data-line="crayon-5d4ba6558f81d260110175-174">174</div><div class="crayon-num" data-line="crayon-5d4ba6558f81d260110175-175">175</div><div class="crayon-num crayon-striped-num" data-line="crayon-5d4ba6558f81d260110175-176">176</div><div class="crayon-num" data-line="crayon-5d4ba6558f81d260110175-177">177</div><div class="crayon-num crayon-striped-num" data-line="crayon-5d4ba6558f81d260110175-178">178</div></div>
				</td>
						<td class="crayon-code"><div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><div class="crayon-line" id="crayon-5d4ba6558f81d260110175-1"><span class="crayon-r">import</span><span class="crayon-h"> </span><span class="crayon-k ">uuid</span></div><div class="crayon-line crayon-striped-line" id="crayon-5d4ba6558f81d260110175-2"><span class="crayon-r">import</span><span class="crayon-h"> </span><span class="crayon-e">picamera</span></div><div class="crayon-line" id="crayon-5d4ba6558f81d260110175-3"><span class="crayon-r">import</span><span class="crayon-h"> </span><span class="crayon-v">RPi</span><span class="crayon-sy">.</span><span class="crayon-e">GPIO </span><span class="crayon-st">as</span><span class="crayon-h"> </span><span class="crayon-e">GPIO</span></div><div class="crayon-line crayon-striped-line" id="crayon-5d4ba6558f81d260110175-4"><span class="crayon-r">import</span><span class="crayon-h"> </span><span class="crayon-e">requests</span></div><div class="crayon-line" id="crayon-5d4ba6558f81d260110175-5"><span class="crayon-st">from</span><span class="crayon-h"> </span><span class="crayon-k ">time</span><span class="crayon-h"> </span><span class="crayon-r">import</span><span class="crayon-h"> </span><span class="crayon-e">sleep</span></div><div class="crayon-line crayon-striped-line" id="crayon-5d4ba6558f81d260110175-6"><span class="crayon-r">import</span><span class="crayon-h"> </span><span class="crayon-k ">os</span></div><div class="crayon-line" id="crayon-5d4ba6558f81d260110175-7"><span class="crayon-r">import</span><span class="crayon-h"> </span><span class="crayon-k ">json</span></div><div class="crayon-line crayon-striped-line" id="crayon-5d4ba6558f81d260110175-8"><span class="crayon-st">from</span><span class="crayon-h"> </span><span class="crayon-e">Adafruit_Thermal </span><span class="crayon-r">import</span><span class="crayon-h"> </span><span class="crayon-o">*</span></div><div class="crayon-line" id="crayon-5d4ba6558f81d260110175-9"><span class="crayon-st">from</span><span class="crayon-h"> </span><span class="crayon-e">alchemykey </span><span class="crayon-r">import</span><span class="crayon-h"> </span><span class="crayon-e">apikey</span></div><div class="crayon-line crayon-striped-line" id="crayon-5d4ba6558f81d260110175-10"><span class="crayon-r">import</span><span class="crayon-h"> </span><span class="crayon-k ">time</span></div><div class="crayon-line" id="crayon-5d4ba6558f81d260110175-11">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-5d4ba6558f81d260110175-12"><span class="crayon-c"># SHUTTER COUNT / startNo GLOBAL</span></div><div class="crayon-line" id="crayon-5d4ba6558f81d260110175-13"><span class="crayon-v">startNo</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-cn">0</span></div><div class="crayon-line crayon-striped-line" id="crayon-5d4ba6558f81d260110175-14">&nbsp;</div><div class="crayon-line" id="crayon-5d4ba6558f81d260110175-15"><span class="crayon-c"># Init Printer</span></div><div class="crayon-line crayon-striped-line" id="crayon-5d4ba6558f81d260110175-16"><span class="crayon-v">printer</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-e">Adafruit_Thermal</span><span class="crayon-sy">(</span><span class="crayon-s">"/dev/ttyAMA0"</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-cn">19200</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">timeout</span><span class="crayon-o">=</span><span class="crayon-cn">5</span><span class="crayon-sy">)</span></div><div class="crayon-line" id="crayon-5d4ba6558f81d260110175-17"><span class="crayon-v">printer</span><span class="crayon-sy">.</span><span class="crayon-e">setSize</span><span class="crayon-sy">(</span><span class="crayon-s">'S'</span><span class="crayon-sy">)</span></div><div class="crayon-line crayon-striped-line" id="crayon-5d4ba6558f81d260110175-18"><span class="crayon-v">printer</span><span class="crayon-sy">.</span><span class="crayon-e">justify</span><span class="crayon-sy">(</span><span class="crayon-s">'L'</span><span class="crayon-sy">)</span></div><div class="crayon-line" id="crayon-5d4ba6558f81d260110175-19"><span class="crayon-v">printer</span><span class="crayon-sy">.</span><span class="crayon-e">setLineHeight</span><span class="crayon-sy">(</span><span class="crayon-cn">36</span><span class="crayon-sy">)</span></div><div class="crayon-line crayon-striped-line" id="crayon-5d4ba6558f81d260110175-20">&nbsp;</div><div class="crayon-line" id="crayon-5d4ba6558f81d260110175-21"><span class="crayon-c"># Init Camera</span></div><div class="crayon-line crayon-striped-line" id="crayon-5d4ba6558f81d260110175-22"><span class="crayon-v">camera</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-v">picamera</span><span class="crayon-sy">.</span><span class="crayon-e">PiCamera</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span></div><div class="crayon-line" id="crayon-5d4ba6558f81d260110175-23">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-5d4ba6558f81d260110175-24"><span class="crayon-c"># Init GPIO</span></div><div class="crayon-line" id="crayon-5d4ba6558f81d260110175-25"><span class="crayon-v">GPIO</span><span class="crayon-sy">.</span><span class="crayon-e">setmode</span><span class="crayon-sy">(</span><span class="crayon-v">GPIO</span><span class="crayon-sy">.</span><span class="crayon-v">BCM</span><span class="crayon-sy">)</span></div><div class="crayon-line crayon-striped-line" id="crayon-5d4ba6558f81d260110175-26">&nbsp;</div><div class="crayon-line" id="crayon-5d4ba6558f81d260110175-27"><span class="crayon-c"># Working Dir</span></div><div class="crayon-line crayon-striped-line" id="crayon-5d4ba6558f81d260110175-28"><span class="crayon-v">cwd</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-s">'/home/pi/tlr'</span></div><div class="crayon-line" id="crayon-5d4ba6558f81d260110175-29">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-5d4ba6558f81d260110175-30"><span class="crayon-c"># Init Button Pin</span></div><div class="crayon-line" id="crayon-5d4ba6558f81d260110175-31"><span class="crayon-v">GPIO</span><span class="crayon-sy">.</span><span class="crayon-e">setup</span><span class="crayon-sy">(</span><span class="crayon-cn">21</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">GPIO</span><span class="crayon-sy">.</span><span class="crayon-st">IN</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">pull_up_down</span><span class="crayon-o">=</span><span class="crayon-v">GPIO</span><span class="crayon-sy">.</span><span class="crayon-v">PUD_UP</span><span class="crayon-sy">)</span></div><div class="crayon-line crayon-striped-line" id="crayon-5d4ba6558f81d260110175-32">&nbsp;</div><div class="crayon-line" id="crayon-5d4ba6558f81d260110175-33"><span class="crayon-c"># Init LED Pin</span></div><div class="crayon-line crayon-striped-line" id="crayon-5d4ba6558f81d260110175-34"><span class="crayon-v">GPIO</span><span class="crayon-sy">.</span><span class="crayon-e">setup</span><span class="crayon-sy">(</span><span class="crayon-cn">20</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">GPIO</span><span class="crayon-sy">.</span><span class="crayon-v">OUT</span><span class="crayon-sy">)</span></div><div class="crayon-line" id="crayon-5d4ba6558f81d260110175-35">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-5d4ba6558f81d260110175-36"><span class="crayon-c"># Init Flash Pin</span></div><div class="crayon-line" id="crayon-5d4ba6558f81d260110175-37"><span class="crayon-v">GPIO</span><span class="crayon-sy">.</span><span class="crayon-e">setup</span><span class="crayon-sy">(</span><span class="crayon-cn">16</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">GPIO</span><span class="crayon-sy">.</span><span class="crayon-v">OUT</span><span class="crayon-sy">)</span></div><div class="crayon-line crayon-striped-line" id="crayon-5d4ba6558f81d260110175-38">&nbsp;</div><div class="crayon-line" id="crayon-5d4ba6558f81d260110175-39"><span class="crayon-c"># LED and Flash Off</span></div><div class="crayon-line crayon-striped-line" id="crayon-5d4ba6558f81d260110175-40"><span class="crayon-v">GPIO</span><span class="crayon-sy">.</span><span class="crayon-e">output</span><span class="crayon-sy">(</span><span class="crayon-cn">20</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-t">False</span><span class="crayon-sy">)</span></div><div class="crayon-line" id="crayon-5d4ba6558f81d260110175-41"><span class="crayon-v">GPIO</span><span class="crayon-sy">.</span><span class="crayon-e">output</span><span class="crayon-sy">(</span><span class="crayon-cn">16</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-t">False</span><span class="crayon-sy">)</span></div><div class="crayon-line crayon-striped-line" id="crayon-5d4ba6558f81d260110175-42">&nbsp;</div><div class="crayon-line" id="crayon-5d4ba6558f81d260110175-43"><span class="crayon-c"># Load lit list</span></div><div class="crayon-line crayon-striped-line" id="crayon-5d4ba6558f81d260110175-44"><span class="crayon-v">lit</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-k ">json</span><span class="crayon-sy">.</span><span class="crayon-e">load</span><span class="crayon-sy">(</span><span class="crayon-h"> </span><span class="crayon-k ">open</span><span class="crayon-sy">(</span><span class="crayon-v">cwd</span><span class="crayon-o">+</span><span class="crayon-s">'/lit.json'</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-s">'r'</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">)</span></div><div class="crayon-line" id="crayon-5d4ba6558f81d260110175-45">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-5d4ba6558f81d260110175-46">&nbsp;</div><div class="crayon-line" id="crayon-5d4ba6558f81d260110175-47"><span class="crayon-r">def</span><span class="crayon-h"> </span><span class="crayon-e">blink</span><span class="crayon-sy">(</span><span class="crayon-v">n</span><span class="crayon-sy">)</span><span class="crayon-o">:</span></div><div class="crayon-line crayon-striped-line" id="crayon-5d4ba6558f81d260110175-48"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-st">for</span><span class="crayon-h"> </span><span class="crayon-i">_</span><span class="crayon-h"> </span><span class="crayon-st">in</span><span class="crayon-h"> </span><span class="crayon-k ">range</span><span class="crayon-sy">(</span><span class="crayon-v">n</span><span class="crayon-sy">)</span><span class="crayon-o">:</span></div><div class="crayon-line" id="crayon-5d4ba6558f81d260110175-49"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">GPIO</span><span class="crayon-sy">.</span><span class="crayon-e">output</span><span class="crayon-sy">(</span><span class="crayon-cn">20</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-t">True</span><span class="crayon-sy">)</span></div><div class="crayon-line crayon-striped-line" id="crayon-5d4ba6558f81d260110175-50"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-e">sleep</span><span class="crayon-sy">(</span><span class="crayon-cn">0.2</span><span class="crayon-sy">)</span></div><div class="crayon-line" id="crayon-5d4ba6558f81d260110175-51"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">GPIO</span><span class="crayon-sy">.</span><span class="crayon-e">output</span><span class="crayon-sy">(</span><span class="crayon-cn">20</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-t">False</span><span class="crayon-sy">)</span></div><div class="crayon-line crayon-striped-line" id="crayon-5d4ba6558f81d260110175-52"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-e">sleep</span><span class="crayon-sy">(</span><span class="crayon-cn">0.2</span><span class="crayon-sy">)</span></div><div class="crayon-line" id="crayon-5d4ba6558f81d260110175-53">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-5d4ba6558f81d260110175-54"><span class="crayon-r">def</span><span class="crayon-h"> </span><span class="crayon-e">takePhoto</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-o">:</span></div><div class="crayon-line" id="crayon-5d4ba6558f81d260110175-55"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">fn</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-k ">str</span><span class="crayon-sy">(</span><span class="crayon-k ">int</span><span class="crayon-sy">(</span><span class="crayon-k ">time</span><span class="crayon-sy">.</span><span class="crayon-k ">time</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-sy">)</span><span class="crayon-sy">)</span><span class="crayon-o">+</span><span class="crayon-s">'.jpg'</span><span class="crayon-h"> </span><span class="crayon-c"># TODO: Change to timestamp hash</span></div><div class="crayon-line crayon-striped-line" id="crayon-5d4ba6558f81d260110175-56"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">fp</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-v">cwd</span><span class="crayon-o">+</span><span class="crayon-s">'/img/'</span><span class="crayon-o">+</span><span class="crayon-e">fn</span></div><div class="crayon-line" id="crayon-5d4ba6558f81d260110175-57"><span class="crayon-e">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">GPIO</span><span class="crayon-sy">.</span><span class="crayon-e">output</span><span class="crayon-sy">(</span><span class="crayon-cn">16</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-t">True</span><span class="crayon-sy">)</span></div><div class="crayon-line crayon-striped-line" id="crayon-5d4ba6558f81d260110175-58"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">camera</span><span class="crayon-sy">.</span><span class="crayon-e">capture</span><span class="crayon-sy">(</span><span class="crayon-v">fp</span><span class="crayon-sy">)</span></div><div class="crayon-line" id="crayon-5d4ba6558f81d260110175-59"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">GPIO</span><span class="crayon-sy">.</span><span class="crayon-e">output</span><span class="crayon-sy">(</span><span class="crayon-cn">16</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-t">False</span><span class="crayon-sy">)</span></div><div class="crayon-line crayon-striped-line" id="crayon-5d4ba6558f81d260110175-60"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-st">return</span><span class="crayon-h"> </span><span class="crayon-e">fp</span></div><div class="crayon-line" id="crayon-5d4ba6558f81d260110175-61">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-5d4ba6558f81d260110175-62"><span class="crayon-r">def</span><span class="crayon-h"> </span><span class="crayon-k ">getText</span><span class="crayon-sy">(</span><span class="crayon-v">imgPath</span><span class="crayon-sy">)</span><span class="crayon-o">:</span></div><div class="crayon-line" id="crayon-5d4ba6558f81d260110175-63"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">endPt</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-s">'https://word.camera/img'</span></div><div class="crayon-line crayon-striped-line" id="crayon-5d4ba6558f81d260110175-64"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">payload</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-sy">{</span><span class="crayon-s">'Script'</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-s">'Yes'</span><span class="crayon-sy">}</span></div><div class="crayon-line" id="crayon-5d4ba6558f81d260110175-65"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">files</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-sy">{</span><span class="crayon-s">'file'</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-k ">open</span><span class="crayon-sy">(</span><span class="crayon-v">imgPath</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-s">'rb'</span><span class="crayon-sy">)</span><span class="crayon-sy">}</span></div><div class="crayon-line crayon-striped-line" id="crayon-5d4ba6558f81d260110175-66"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">response</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-v">requests</span><span class="crayon-sy">.</span><span class="crayon-e">post</span><span class="crayon-sy">(</span><span class="crayon-v">endPt</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">data</span><span class="crayon-o">=</span><span class="crayon-v">payload</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">files</span><span class="crayon-o">=</span><span class="crayon-v">files</span><span class="crayon-sy">)</span></div><div class="crayon-line" id="crayon-5d4ba6558f81d260110175-67"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-st">return</span><span class="crayon-h"> </span><span class="crayon-v">response</span><span class="crayon-sy">.</span><span class="crayon-e">text</span></div><div class="crayon-line crayon-striped-line" id="crayon-5d4ba6558f81d260110175-68">&nbsp;</div><div class="crayon-line" id="crayon-5d4ba6558f81d260110175-69"><span class="crayon-r">def</span><span class="crayon-h"> </span><span class="crayon-e">alchemy</span><span class="crayon-sy">(</span><span class="crayon-v">text</span><span class="crayon-sy">)</span><span class="crayon-o">:</span></div><div class="crayon-line crayon-striped-line" id="crayon-5d4ba6558f81d260110175-70"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">endpt</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-s">"http://access.alchemyapi.com/calls/text/TextGetRankedConcepts"</span></div><div class="crayon-line" id="crayon-5d4ba6558f81d260110175-71"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">payload</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-sy">{</span><span class="crayon-s">"apikey"</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-v">apikey</span><span class="crayon-sy">,</span></div><div class="crayon-line crayon-striped-line" id="crayon-5d4ba6558f81d260110175-72"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span class="crayon-s">"text"</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-v">text</span><span class="crayon-sy">,</span></div><div class="crayon-line" id="crayon-5d4ba6558f81d260110175-73"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span class="crayon-s">"outputMode"</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-s">"json"</span><span class="crayon-sy">,</span></div><div class="crayon-line crayon-striped-line" id="crayon-5d4ba6558f81d260110175-74"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span class="crayon-s">"showSourceText"</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-cn">0</span><span class="crayon-sy">,</span></div><div class="crayon-line" id="crayon-5d4ba6558f81d260110175-75"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span class="crayon-s">"knowledgeGraph"</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-cn">1</span><span class="crayon-sy">,</span></div><div class="crayon-line crayon-striped-line" id="crayon-5d4ba6558f81d260110175-76"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span class="crayon-s">"maxRetrieve"</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-cn">500</span><span class="crayon-sy">}</span></div><div class="crayon-line" id="crayon-5d4ba6558f81d260110175-77"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">headers</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-sy">{</span><span class="crayon-s">'content-type'</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-s">'application/x-www-form-urlencoded'</span><span class="crayon-sy">}</span></div><div class="crayon-line crayon-striped-line" id="crayon-5d4ba6558f81d260110175-78"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">r</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-v">requests</span><span class="crayon-sy">.</span><span class="crayon-e">post</span><span class="crayon-sy">(</span><span class="crayon-v">endpt</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">data</span><span class="crayon-o">=</span><span class="crayon-v">payload</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">headers</span><span class="crayon-o">=</span><span class="crayon-v">headers</span><span class="crayon-sy">)</span></div><div class="crayon-line" id="crayon-5d4ba6558f81d260110175-79"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-st">return</span><span class="crayon-h"> </span><span class="crayon-v">r</span><span class="crayon-sy">.</span><span class="crayon-k ">json</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span></div><div class="crayon-line crayon-striped-line" id="crayon-5d4ba6558f81d260110175-80">&nbsp;</div><div class="crayon-line" id="crayon-5d4ba6558f81d260110175-81"><span class="crayon-r">def</span><span class="crayon-h"> </span><span class="crayon-e">findIntersection</span><span class="crayon-sy">(</span><span class="crayon-v">testDict</span><span class="crayon-sy">)</span><span class="crayon-o">:</span></div><div class="crayon-line crayon-striped-line" id="crayon-5d4ba6558f81d260110175-82"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">returnText</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-s">""</span></div><div class="crayon-line" id="crayon-5d4ba6558f81d260110175-83"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">returnTitle</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-s">""</span></div><div class="crayon-line crayon-striped-line" id="crayon-5d4ba6558f81d260110175-84"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">returnAuthor</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-s">""</span></div><div class="crayon-line" id="crayon-5d4ba6558f81d260110175-85"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">recordInter</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-k ">set</span><span class="crayon-sy">(</span><span class="crayon-v">testDict</span><span class="crayon-sy">.</span><span class="crayon-e">keys</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-sy">)</span></div><div class="crayon-line crayon-striped-line" id="crayon-5d4ba6558f81d260110175-86"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">relRecord</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-cn">0.0</span></div><div class="crayon-line" id="crayon-5d4ba6558f81d260110175-87"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-st">for</span><span class="crayon-h"> </span><span class="crayon-e">doc </span><span class="crayon-st">in</span><span class="crayon-h"> </span><span class="crayon-v">lit</span><span class="crayon-o">:</span></div><div class="crayon-line crayon-striped-line" id="crayon-5d4ba6558f81d260110175-88"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">inter</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-k ">set</span><span class="crayon-sy">(</span><span class="crayon-v">doc</span><span class="crayon-sy">[</span><span class="crayon-s">'concepts'</span><span class="crayon-sy">]</span><span class="crayon-sy">.</span><span class="crayon-e">keys</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-o">&amp;</span><span class="crayon-h"> </span><span class="crayon-k ">set</span><span class="crayon-sy">(</span><span class="crayon-v">testDict</span><span class="crayon-sy">.</span><span class="crayon-e">keys</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-sy">)</span></div><div class="crayon-line" id="crayon-5d4ba6558f81d260110175-89"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-st">if</span><span class="crayon-h"> </span><span class="crayon-v">inter</span><span class="crayon-o">:</span></div><div class="crayon-line crayon-marked-line crayon-top crayon-bottom crayon-striped-line" id="crayon-5d4ba6558f81d260110175-90"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">relSum</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-k ">sum</span><span class="crayon-sy">(</span><span class="crayon-sy">[</span><span class="crayon-v">doc</span><span class="crayon-sy">[</span><span class="crayon-s">'concepts'</span><span class="crayon-sy">]</span><span class="crayon-sy">[</span><span class="crayon-v">tag</span><span class="crayon-sy">]</span><span class="crayon-o">+</span><span class="crayon-v">testDict</span><span class="crayon-sy">[</span><span class="crayon-v">tag</span><span class="crayon-sy">]</span><span class="crayon-h"> </span><span class="crayon-st">for</span><span class="crayon-h"> </span><span class="crayon-e">tag </span><span class="crayon-st">in</span><span class="crayon-h"> </span><span class="crayon-v">inter</span><span class="crayon-sy">]</span><span class="crayon-sy">)</span></div><div class="crayon-line" id="crayon-5d4ba6558f81d260110175-91"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-st">if</span><span class="crayon-h"> </span><span class="crayon-v">relSum</span><span class="crayon-h"> </span><span class="crayon-o">&gt;</span><span class="crayon-h"> </span><span class="crayon-v">relRecord</span><span class="crayon-o">:</span><span class="crayon-h"> </span></div><div class="crayon-line crayon-striped-line" id="crayon-5d4ba6558f81d260110175-92"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">relRecord</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-e">relSum</span></div><div class="crayon-line" id="crayon-5d4ba6558f81d260110175-93"><span class="crayon-e">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">recordInter</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-e">inter</span></div><div class="crayon-line crayon-striped-line" id="crayon-5d4ba6558f81d260110175-94"><span class="crayon-e">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">returnText</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-v">doc</span><span class="crayon-sy">[</span><span class="crayon-s">'text'</span><span class="crayon-sy">]</span></div><div class="crayon-line" id="crayon-5d4ba6558f81d260110175-95"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">returnTitle</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-v">doc</span><span class="crayon-sy">[</span><span class="crayon-s">'title'</span><span class="crayon-sy">]</span></div><div class="crayon-line crayon-striped-line" id="crayon-5d4ba6558f81d260110175-96"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">returnAuthor</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-v">doc</span><span class="crayon-sy">[</span><span class="crayon-s">'author'</span><span class="crayon-sy">]</span></div><div class="crayon-line" id="crayon-5d4ba6558f81d260110175-97"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">doc</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line crayon-striped-line" id="crayon-5d4ba6558f81d260110175-98"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-s">'text'</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-v">returnText</span><span class="crayon-sy">,</span></div><div class="crayon-line" id="crayon-5d4ba6558f81d260110175-99"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-s">'title'</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-v">returnTitle</span><span class="crayon-sy">,</span></div><div class="crayon-line crayon-striped-line" id="crayon-5d4ba6558f81d260110175-100"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-s">'author'</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-v">returnAuthor</span><span class="crayon-sy">,</span></div><div class="crayon-line" id="crayon-5d4ba6558f81d260110175-101"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-s">'inter'</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-v">recordInter</span><span class="crayon-sy">,</span></div><div class="crayon-line crayon-striped-line" id="crayon-5d4ba6558f81d260110175-102"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-s">'record'</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-i">relRecord</span></div><div class="crayon-line" id="crayon-5d4ba6558f81d260110175-103"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">}</span></div><div class="crayon-line crayon-striped-line" id="crayon-5d4ba6558f81d260110175-104"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-st">return</span><span class="crayon-h"> </span><span class="crayon-e">doc</span></div><div class="crayon-line" id="crayon-5d4ba6558f81d260110175-105">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-5d4ba6558f81d260110175-106"><span class="crayon-r">def</span><span class="crayon-h"> </span><span class="crayon-e">puncReplace</span><span class="crayon-sy">(</span><span class="crayon-v">text</span><span class="crayon-sy">)</span><span class="crayon-o">:</span></div><div class="crayon-line" id="crayon-5d4ba6558f81d260110175-107"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">replaceDict</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line crayon-striped-line" id="crayon-5d4ba6558f81d260110175-108"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-s">'&amp;#8212;'</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-s">'---'</span><span class="crayon-sy">,</span></div><div class="crayon-line" id="crayon-5d4ba6558f81d260110175-109"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-s">'&amp;#8211;'</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-s">'--'</span><span class="crayon-sy">,</span></div><div class="crayon-line crayon-striped-line" id="crayon-5d4ba6558f81d260110175-110"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-s">'&amp;#8216;'</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-s">"\'"</span><span class="crayon-sy">,</span></div><div class="crayon-line" id="crayon-5d4ba6558f81d260110175-111"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-s">'&amp;#8217;'</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-s">"\'"</span><span class="crayon-sy">,</span></div><div class="crayon-line crayon-striped-line" id="crayon-5d4ba6558f81d260110175-112"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-s">'&amp;#8220;'</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-s">'\"'</span><span class="crayon-sy">,</span></div><div class="crayon-line" id="crayon-5d4ba6558f81d260110175-113"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-s">'&amp;#8221;'</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-s">'\"'</span><span class="crayon-sy">,</span></div><div class="crayon-line crayon-striped-line" id="crayon-5d4ba6558f81d260110175-114"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-s">'&amp;#180;'</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-s">"\'"</span><span class="crayon-sy">,</span></div><div class="crayon-line" id="crayon-5d4ba6558f81d260110175-115"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-s">'&amp;#235;'</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-s">'e'</span><span class="crayon-sy">,</span></div><div class="crayon-line crayon-striped-line" id="crayon-5d4ba6558f81d260110175-116"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-s">'&amp;#241;'</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-s">'n'</span></div><div class="crayon-line" id="crayon-5d4ba6558f81d260110175-117"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">}</span></div><div class="crayon-line crayon-striped-line" id="crayon-5d4ba6558f81d260110175-118">&nbsp;</div><div class="crayon-line" id="crayon-5d4ba6558f81d260110175-119"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-st">for</span><span class="crayon-h"> </span><span class="crayon-e">key </span><span class="crayon-st">in</span><span class="crayon-h"> </span><span class="crayon-v">replaceDict</span><span class="crayon-o">:</span></div><div class="crayon-line crayon-striped-line" id="crayon-5d4ba6558f81d260110175-120"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">text</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-v">text</span><span class="crayon-sy">.</span><span class="crayon-e">replace</span><span class="crayon-sy">(</span><span class="crayon-v">key</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">replaceDict</span><span class="crayon-sy">[</span><span class="crayon-v">key</span><span class="crayon-sy">]</span><span class="crayon-sy">)</span></div><div class="crayon-line" id="crayon-5d4ba6558f81d260110175-121">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-5d4ba6558f81d260110175-122"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-st">return</span><span class="crayon-h"> </span><span class="crayon-e">text</span></div><div class="crayon-line" id="crayon-5d4ba6558f81d260110175-123">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-5d4ba6558f81d260110175-124">&nbsp;</div><div class="crayon-line" id="crayon-5d4ba6558f81d260110175-125"><span class="crayon-e">blink</span><span class="crayon-sy">(</span><span class="crayon-cn">5</span><span class="crayon-sy">)</span></div><div class="crayon-line crayon-striped-line" id="crayon-5d4ba6558f81d260110175-126"><span class="crayon-st">while</span><span class="crayon-h"> </span><span class="crayon-cn">1</span><span class="crayon-o">:</span></div><div class="crayon-line" id="crayon-5d4ba6558f81d260110175-127"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">input_state</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-v">GPIO</span><span class="crayon-sy">.</span><span class="crayon-k ">input</span><span class="crayon-sy">(</span><span class="crayon-cn">21</span><span class="crayon-sy">)</span></div><div class="crayon-line crayon-striped-line" id="crayon-5d4ba6558f81d260110175-128"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-st">if</span><span class="crayon-h"> </span><span class="crayon-st">not</span><span class="crayon-h"> </span><span class="crayon-v">input_state</span><span class="crayon-o">:</span></div><div class="crayon-line" id="crayon-5d4ba6558f81d260110175-129"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">GPIO</span><span class="crayon-sy">.</span><span class="crayon-e">output</span><span class="crayon-sy">(</span><span class="crayon-cn">20</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-t">True</span><span class="crayon-sy">)</span></div><div class="crayon-line crayon-striped-line" id="crayon-5d4ba6558f81d260110175-130"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-st">try</span><span class="crayon-o">:</span></div><div class="crayon-line" id="crayon-5d4ba6558f81d260110175-131"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-c"># Get Word.Camera Output</span></div><div class="crayon-line crayon-striped-line" id="crayon-5d4ba6558f81d260110175-132"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-k ">print</span><span class="crayon-h"> </span><span class="crayon-s">"GETTING TEXT FROM WORD.CAMERA..."</span></div><div class="crayon-line" id="crayon-5d4ba6558f81d260110175-133"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">wcText</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-k ">getText</span><span class="crayon-sy">(</span><span class="crayon-e">takePhoto</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-sy">)</span></div><div class="crayon-line crayon-striped-line" id="crayon-5d4ba6558f81d260110175-134"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-e">blink</span><span class="crayon-sy">(</span><span class="crayon-cn">3</span><span class="crayon-sy">)</span></div><div class="crayon-line" id="crayon-5d4ba6558f81d260110175-135"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">GPIO</span><span class="crayon-sy">.</span><span class="crayon-e">output</span><span class="crayon-sy">(</span><span class="crayon-cn">20</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-t">True</span><span class="crayon-sy">)</span></div><div class="crayon-line crayon-striped-line" id="crayon-5d4ba6558f81d260110175-136"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-k ">print</span><span class="crayon-h"> </span><span class="crayon-s">"...GOT TEXT"</span></div><div class="crayon-line" id="crayon-5d4ba6558f81d260110175-137">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-5d4ba6558f81d260110175-138"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-c"># Print</span></div><div class="crayon-line" id="crayon-5d4ba6558f81d260110175-139"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-c"># print "PRINTING PRIMARY"</span></div><div class="crayon-line crayon-striped-line" id="crayon-5d4ba6558f81d260110175-140"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-c"># startNo += 1</span></div><div class="crayon-line" id="crayon-5d4ba6558f81d260110175-141"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-c"># printer.println("No. %i\n\n\n%s" % (startNo, wcText))</span></div><div class="crayon-line crayon-striped-line" id="crayon-5d4ba6558f81d260110175-142">&nbsp;</div><div class="crayon-line" id="crayon-5d4ba6558f81d260110175-143"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-c"># Get Alchemy Data</span></div><div class="crayon-line crayon-striped-line" id="crayon-5d4ba6558f81d260110175-144"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-k ">print</span><span class="crayon-h"> </span><span class="crayon-s">"GETTING ALCHEMY DATA..."</span></div><div class="crayon-line" id="crayon-5d4ba6558f81d260110175-145"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">data</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-e">alchemy</span><span class="crayon-sy">(</span><span class="crayon-v">wcText</span><span class="crayon-sy">)</span></div><div class="crayon-line crayon-striped-line" id="crayon-5d4ba6558f81d260110175-146"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">tagRelDict</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-sy">{</span><span class="crayon-v">concept</span><span class="crayon-sy">[</span><span class="crayon-s">'text'</span><span class="crayon-sy">]</span><span class="crayon-o">:</span><span class="crayon-k ">float</span><span class="crayon-sy">(</span><span class="crayon-v">concept</span><span class="crayon-sy">[</span><span class="crayon-s">'relevance'</span><span class="crayon-sy">]</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-st">for</span><span class="crayon-h"> </span><span class="crayon-e">concept </span><span class="crayon-st">in</span><span class="crayon-h"> </span><span class="crayon-v">data</span><span class="crayon-sy">[</span><span class="crayon-s">'concepts'</span><span class="crayon-sy">]</span><span class="crayon-sy">}</span></div><div class="crayon-line" id="crayon-5d4ba6558f81d260110175-147"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-e">blink</span><span class="crayon-sy">(</span><span class="crayon-cn">3</span><span class="crayon-sy">)</span></div><div class="crayon-line crayon-striped-line" id="crayon-5d4ba6558f81d260110175-148"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">GPIO</span><span class="crayon-sy">.</span><span class="crayon-e">output</span><span class="crayon-sy">(</span><span class="crayon-cn">20</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-t">True</span><span class="crayon-sy">)</span></div><div class="crayon-line" id="crayon-5d4ba6558f81d260110175-149"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-k ">print</span><span class="crayon-h"> </span><span class="crayon-s">"...GOT DATA"</span></div><div class="crayon-line crayon-striped-line" id="crayon-5d4ba6558f81d260110175-150">&nbsp;</div><div class="crayon-line" id="crayon-5d4ba6558f81d260110175-151"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-c"># Make Match</span></div><div class="crayon-line crayon-striped-line" id="crayon-5d4ba6558f81d260110175-152"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-k ">print</span><span class="crayon-h"> </span><span class="crayon-s">"FINDING MATCH..."</span></div><div class="crayon-line" id="crayon-5d4ba6558f81d260110175-153"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">interDoc</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-e">findIntersection</span><span class="crayon-sy">(</span><span class="crayon-v">tagRelDict</span><span class="crayon-sy">)</span></div><div class="crayon-line crayon-striped-line" id="crayon-5d4ba6558f81d260110175-154"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-k ">print</span><span class="crayon-h"> </span><span class="crayon-e">interDoc</span></div><div class="crayon-line" id="crayon-5d4ba6558f81d260110175-155"><span class="crayon-e">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">interText</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-e">puncReplace</span><span class="crayon-sy">(</span><span class="crayon-v">interDoc</span><span class="crayon-sy">[</span><span class="crayon-s">'text'</span><span class="crayon-sy">]</span><span class="crayon-sy">.</span><span class="crayon-e">encode</span><span class="crayon-sy">(</span><span class="crayon-s">'ascii'</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-s">'xmlcharrefreplace'</span><span class="crayon-sy">)</span><span class="crayon-sy">)</span></div><div class="crayon-line crayon-striped-line" id="crayon-5d4ba6558f81d260110175-156"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">interTitle</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-e">puncReplace</span><span class="crayon-sy">(</span><span class="crayon-v">interDoc</span><span class="crayon-sy">[</span><span class="crayon-s">'title'</span><span class="crayon-sy">]</span><span class="crayon-sy">.</span><span class="crayon-e">encode</span><span class="crayon-sy">(</span><span class="crayon-s">'ascii'</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-s">'xmlcharrefreplace'</span><span class="crayon-sy">)</span><span class="crayon-sy">)</span></div><div class="crayon-line" id="crayon-5d4ba6558f81d260110175-157"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">interAuthor</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-e">puncReplace</span><span class="crayon-sy">(</span><span class="crayon-v">interDoc</span><span class="crayon-sy">[</span><span class="crayon-s">'author'</span><span class="crayon-sy">]</span><span class="crayon-sy">.</span><span class="crayon-e">encode</span><span class="crayon-sy">(</span><span class="crayon-s">'ascii'</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-s">'xmlcharrefreplace'</span><span class="crayon-sy">)</span><span class="crayon-sy">)</span></div><div class="crayon-line crayon-striped-line" id="crayon-5d4ba6558f81d260110175-158"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-e">blink</span><span class="crayon-sy">(</span><span class="crayon-cn">3</span><span class="crayon-sy">)</span></div><div class="crayon-line" id="crayon-5d4ba6558f81d260110175-159"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">GPIO</span><span class="crayon-sy">.</span><span class="crayon-e">output</span><span class="crayon-sy">(</span><span class="crayon-cn">20</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-t">True</span><span class="crayon-sy">)</span></div><div class="crayon-line crayon-striped-line" id="crayon-5d4ba6558f81d260110175-160"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-k ">print</span><span class="crayon-h"> </span><span class="crayon-s">"...FOUND"</span></div><div class="crayon-line" id="crayon-5d4ba6558f81d260110175-161">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-5d4ba6558f81d260110175-162"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">grafList</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-sy">[</span><span class="crayon-i">p</span><span class="crayon-h"> </span><span class="crayon-st">for</span><span class="crayon-h"> </span><span class="crayon-i">p</span><span class="crayon-h"> </span><span class="crayon-st">in</span><span class="crayon-h"> </span><span class="crayon-v">wcText</span><span class="crayon-sy">.</span><span class="crayon-e">split</span><span class="crayon-sy">(</span><span class="crayon-s">'\n'</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-st">if</span><span class="crayon-h"> </span><span class="crayon-v">p</span><span class="crayon-sy">]</span></div><div class="crayon-line" id="crayon-5d4ba6558f81d260110175-163">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-5d4ba6558f81d260110175-164"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-c"># Choose primary paragraph</span></div><div class="crayon-line" id="crayon-5d4ba6558f81d260110175-165"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">primaryText</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-k ">min</span><span class="crayon-sy">(</span><span class="crayon-v">grafList</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">key</span><span class="crayon-o">=</span><span class="crayon-r">lambda</span><span class="crayon-h"> </span><span class="crayon-v">x</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-v">x</span><span class="crayon-sy">.</span><span class="crayon-e">count</span><span class="crayon-sy">(</span><span class="crayon-s">'#'</span><span class="crayon-sy">)</span><span class="crayon-sy">)</span></div><div class="crayon-line crayon-striped-line" id="crayon-5d4ba6558f81d260110175-166"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">url</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-s">'word.camera/i/'</span><span class="crayon-h"> </span><span class="crayon-o">+</span><span class="crayon-h"> </span><span class="crayon-v">grafList</span><span class="crayon-sy">[</span><span class="crayon-o">-</span><span class="crayon-cn">1</span><span class="crayon-sy">]</span><span class="crayon-sy">.</span><span class="crayon-e">strip</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-sy">.</span><span class="crayon-e">replace</span><span class="crayon-sy">(</span><span class="crayon-s">'#'</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-s">''</span><span class="crayon-sy">)</span></div><div class="crayon-line" id="crayon-5d4ba6558f81d260110175-167">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-5d4ba6558f81d260110175-168"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-c"># Print</span></div><div class="crayon-line" id="crayon-5d4ba6558f81d260110175-169"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-k ">print</span><span class="crayon-h"> </span><span class="crayon-s">"PRINTING..."</span></div><div class="crayon-line crayon-striped-line" id="crayon-5d4ba6558f81d260110175-170"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">startNo</span><span class="crayon-h"> </span><span class="crayon-o">+=</span><span class="crayon-h"> </span><span class="crayon-cn">1</span></div><div class="crayon-line" id="crayon-5d4ba6558f81d260110175-171"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">printStr</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-s">"No. %i\n\n\n%s\n\n%s\n\n\n\nEPITAPH\n\n%s\n\nFrom %s by %s"</span><span class="crayon-h"> </span><span class="crayon-o">%</span><span class="crayon-h"> </span><span class="crayon-sy">(</span><span class="crayon-v">startNo</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">primaryText</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">url</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">interText</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">interTitle</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">interAuthor</span><span class="crayon-sy">)</span></div><div class="crayon-line crayon-striped-line" id="crayon-5d4ba6558f81d260110175-172"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">printer</span><span class="crayon-sy">.</span><span class="crayon-e">println</span><span class="crayon-sy">(</span><span class="crayon-v">printStr</span><span class="crayon-sy">)</span></div><div class="crayon-line" id="crayon-5d4ba6558f81d260110175-173">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-5d4ba6558f81d260110175-174"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-st">except</span><span class="crayon-o">:</span></div><div class="crayon-line" id="crayon-5d4ba6558f81d260110175-175"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-k ">print</span><span class="crayon-h"> </span><span class="crayon-s">"SOMETHING BROKE"</span></div><div class="crayon-line crayon-striped-line" id="crayon-5d4ba6558f81d260110175-176"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-e">blink</span><span class="crayon-sy">(</span><span class="crayon-cn">15</span><span class="crayon-sy">)</span></div><div class="crayon-line" id="crayon-5d4ba6558f81d260110175-177">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-5d4ba6558f81d260110175-178"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">GPIO</span><span class="crayon-sy">.</span><span class="crayon-e">output</span><span class="crayon-sy">(</span><span class="crayon-cn">20</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-t">False</span><span class="crayon-sy">)</span></div></div></td>
					</tr>
				</table>
			</div>
		</div>
<!-- [Load Time: 0.0858 seconds] [Format Time: 0.0468 seconds] -->
<p>Thanks to <a href="http://www.dorkbotpdx.org/blog/paul/battery_pack_load" target="_blank">a transistor pulsing circuit that keeps the printer&#8217;s battery awake</a>, and <a href="http://www.daveconroy.com/how-to-tether-your-raspberry-pi-with-your-iphone-5/" target="_blank">some code that automatically tethers the Raspberry Pi to my iPhone</a>, the Fiction Camera is fully portable. I&#8217;ve been walking around Brooklyn and Manhattan over the past week making lexographs—the device is definitely a conversation starter. As a street photographer, I&#8217;ve noticed that people seem to be more comfortable having their photograph taken with it than with a standard camera, possibly because the visual image (and whether they look alright in it) is far less important.</p>
<p>As a result of these wanderings, I&#8217;ve accrued quite a large number of lexograph receipts. Earlier iterations of the receipt design contained longer versions of the word.camera output. Eventually, I settled on a version that contains a number (indicating how many lexographs have been taken since the device was last turned on), one paragraph of word.camera output, a URL to the word.camera page containing the photo + complete output, and a single high-relevance paragraph from a novel.</p>
<p><a href="wp-content/uploads/2015/05/2080_20150508_doc_1800px.jpg"><img class="aligncenter size-medium wp-image-602" src="wp-content/uploads/2015/05/2080_20150508_doc_1800px-300x225.jpg" alt="2080_20150508_doc_1800px" width="300" height="225" srcset="wp-content/uploads/2015/05/2080_20150508_doc_1800px-300x225.jpg 300w, wp-content/uploads/2015/05/2080_20150508_doc_1800px-1024x768.jpg 1024w" sizes="(max-width: 300px) 100vw, 300px" /></a></p>
<p><a href="wp-content/uploads/2015/05/2095_20150508_doc_1800px.jpg"><img class="aligncenter size-medium wp-image-607" src="wp-content/uploads/2015/05/2095_20150508_doc_1800px-300x225.jpg" alt="2095_20150508_doc_1800px" width="300" height="225" srcset="wp-content/uploads/2015/05/2095_20150508_doc_1800px-300x225.jpg 300w, wp-content/uploads/2015/05/2095_20150508_doc_1800px-1024x768.jpg 1024w" sizes="(max-width: 300px) 100vw, 300px" /></a></p>
<p><a href="wp-content/uploads/2015/05/2082_20150508_doc_1800px.jpg"><img class="aligncenter size-medium wp-image-603" src="wp-content/uploads/2015/05/2082_20150508_doc_1800px-225x300.jpg" alt="2082_20150508_doc_1800px" width="225" height="300" srcset="wp-content/uploads/2015/05/2082_20150508_doc_1800px-225x300.jpg 225w, wp-content/uploads/2015/05/2082_20150508_doc_1800px-768x1024.jpg 768w, wp-content/uploads/2015/05/2082_20150508_doc_1800px.jpg 1350w" sizes="(max-width: 225px) 100vw, 225px" /></a></p>
<p><a href="wp-content/uploads/2015/05/2088_20150508_doc_1800px.jpg"><img class="aligncenter size-medium wp-image-604" src="wp-content/uploads/2015/05/2088_20150508_doc_1800px-225x300.jpg" alt="2088_20150508_doc_1800px" width="225" height="300" srcset="wp-content/uploads/2015/05/2088_20150508_doc_1800px-225x300.jpg 225w, wp-content/uploads/2015/05/2088_20150508_doc_1800px-768x1024.jpg 768w, wp-content/uploads/2015/05/2088_20150508_doc_1800px.jpg 1350w" sizes="(max-width: 225px) 100vw, 225px" /></a></p>
<p><a href="wp-content/uploads/2015/05/2091_20150508_doc_1800px.jpg"><img class="aligncenter size-medium wp-image-605" src="wp-content/uploads/2015/05/2091_20150508_doc_1800px-225x300.jpg" alt="2091_20150508_doc_1800px" width="225" height="300" srcset="wp-content/uploads/2015/05/2091_20150508_doc_1800px-225x300.jpg 225w, wp-content/uploads/2015/05/2091_20150508_doc_1800px-768x1024.jpg 768w, wp-content/uploads/2015/05/2091_20150508_doc_1800px.jpg 1350w" sizes="(max-width: 225px) 100vw, 225px" /></a></p>
<p><a href="wp-content/uploads/2015/05/2093_20150508_doc_1800px.jpg"><img class="aligncenter size-medium wp-image-606" src="wp-content/uploads/2015/05/2093_20150508_doc_1800px-225x300.jpg" alt="2093_20150508_doc_1800px" width="225" height="300" srcset="wp-content/uploads/2015/05/2093_20150508_doc_1800px-225x300.jpg 225w, wp-content/uploads/2015/05/2093_20150508_doc_1800px-768x1024.jpg 768w, wp-content/uploads/2015/05/2093_20150508_doc_1800px.jpg 1350w" sizes="(max-width: 225px) 100vw, 225px" /></a></p>
<p><a href="wp-content/uploads/2015/05/2097_20150508_doc_1800px.jpg"><img class="aligncenter size-medium wp-image-608" src="wp-content/uploads/2015/05/2097_20150508_doc_1800px-225x300.jpg" alt="2097_20150508_doc_1800px" width="225" height="300" srcset="wp-content/uploads/2015/05/2097_20150508_doc_1800px-225x300.jpg 225w, wp-content/uploads/2015/05/2097_20150508_doc_1800px-768x1024.jpg 768w, wp-content/uploads/2015/05/2097_20150508_doc_1800px.jpg 1350w" sizes="(max-width: 225px) 100vw, 225px" /></a></p>
<p><a href="wp-content/uploads/2015/05/2100_20150508_doc_1800px.jpg"><img class="aligncenter size-medium wp-image-609" src="wp-content/uploads/2015/05/2100_20150508_doc_1800px-225x300.jpg" alt="2100_20150508_doc_1800px" width="225" height="300" srcset="wp-content/uploads/2015/05/2100_20150508_doc_1800px-225x300.jpg 225w, wp-content/uploads/2015/05/2100_20150508_doc_1800px-768x1024.jpg 768w, wp-content/uploads/2015/05/2100_20150508_doc_1800px.jpg 1350w" sizes="(max-width: 225px) 100vw, 225px" /></a></p>
<p><a href="wp-content/uploads/2015/05/2102_20150508_doc_1800px.jpg"><img class="aligncenter size-medium wp-image-610" src="wp-content/uploads/2015/05/2102_20150508_doc_1800px-225x300.jpg" alt="2102_20150508_doc_1800px" width="225" height="300" srcset="wp-content/uploads/2015/05/2102_20150508_doc_1800px-225x300.jpg 225w, wp-content/uploads/2015/05/2102_20150508_doc_1800px-768x1024.jpg 768w, wp-content/uploads/2015/05/2102_20150508_doc_1800px.jpg 1350w" sizes="(max-width: 225px) 100vw, 225px" /></a></p>
<p><a href="wp-content/uploads/2015/05/2104_20150508_doc_1800px.jpg"><img class="aligncenter size-medium wp-image-611" src="wp-content/uploads/2015/05/2104_20150508_doc_1800px-225x300.jpg" alt="2104_20150508_doc_1800px" width="225" height="300" srcset="wp-content/uploads/2015/05/2104_20150508_doc_1800px-225x300.jpg 225w, wp-content/uploads/2015/05/2104_20150508_doc_1800px-768x1024.jpg 768w, wp-content/uploads/2015/05/2104_20150508_doc_1800px.jpg 1350w" sizes="(max-width: 225px) 100vw, 225px" /></a></p>
<p><a href="wp-content/uploads/2015/05/2106_20150508_doc_1800px.jpg"><img class="aligncenter size-medium wp-image-612" src="wp-content/uploads/2015/05/2106_20150508_doc_1800px-225x300.jpg" alt="2106_20150508_doc_1800px" width="225" height="300" srcset="wp-content/uploads/2015/05/2106_20150508_doc_1800px-225x300.jpg 225w, wp-content/uploads/2015/05/2106_20150508_doc_1800px-768x1024.jpg 768w, wp-content/uploads/2015/05/2106_20150508_doc_1800px.jpg 1350w" sizes="(max-width: 225px) 100vw, 225px" /></a></p>
<p><a href="wp-content/uploads/2015/05/2108_20150508_doc_1800px.jpg"><img class="aligncenter size-medium wp-image-613" src="wp-content/uploads/2015/05/2108_20150508_doc_1800px-225x300.jpg" alt="2108_20150508_doc_1800px" width="225" height="300" srcset="wp-content/uploads/2015/05/2108_20150508_doc_1800px-225x300.jpg 225w, wp-content/uploads/2015/05/2108_20150508_doc_1800px-768x1024.jpg 768w, wp-content/uploads/2015/05/2108_20150508_doc_1800px.jpg 1350w" sizes="(max-width: 225px) 100vw, 225px" /></a></p>
<p><a href="wp-content/uploads/2015/05/2109_20150508_doc_1800px.jpg"><img class="aligncenter size-medium wp-image-614" src="wp-content/uploads/2015/05/2109_20150508_doc_1800px-225x300.jpg" alt="2109_20150508_doc_1800px" width="225" height="300" srcset="wp-content/uploads/2015/05/2109_20150508_doc_1800px-225x300.jpg 225w, wp-content/uploads/2015/05/2109_20150508_doc_1800px-768x1024.jpg 768w, wp-content/uploads/2015/05/2109_20150508_doc_1800px.jpg 1350w" sizes="(max-width: 225px) 100vw, 225px" /></a></p>
<p>I also demonstrated the camera at ConvoHack, our final presentation event for Conversation and Computation, which took place at Babycastles gallery, and passed out over 50 lexograph receipts that evening alone.</p>
<p><a href="wp-content/uploads/2015/05/6A0A1475.jpg"><img class="aligncenter size-medium wp-image-541" src="wp-content/uploads/2015/05/6A0A1475-300x200.jpg" alt="6A0A1475" width="300" height="200" srcset="wp-content/uploads/2015/05/6A0A1475-300x200.jpg 300w, wp-content/uploads/2015/05/6A0A1475-1024x683.jpg 1024w" sizes="(max-width: 300px) 100vw, 300px" /></a></p>
<p><a href="wp-content/uploads/2015/05/6A0A1416.jpg"><img class="aligncenter size-medium wp-image-542" src="wp-content/uploads/2015/05/6A0A1416-300x200.jpg" alt="6A0A1416" width="300" height="200" srcset="wp-content/uploads/2015/05/6A0A1416-300x200.jpg 300w, wp-content/uploads/2015/05/6A0A1416-1024x683.jpg 1024w" sizes="(max-width: 300px) 100vw, 300px" /></a></p>
<p><a href="wp-content/uploads/2015/05/6A0A1380.jpg"><img class="aligncenter size-medium wp-image-544" src="wp-content/uploads/2015/05/6A0A1380-300x200.jpg" alt="6A0A1380" width="300" height="200" srcset="wp-content/uploads/2015/05/6A0A1380-300x200.jpg 300w, wp-content/uploads/2015/05/6A0A1380-1024x683.jpg 1024w" sizes="(max-width: 300px) 100vw, 300px" /></a></p>
<p><a href="wp-content/uploads/2015/05/6A0A1352.jpg"><img class="aligncenter size-medium wp-image-545" src="wp-content/uploads/2015/05/6A0A1352-300x200.jpg" alt="6A0A1352" width="300" height="200" srcset="wp-content/uploads/2015/05/6A0A1352-300x200.jpg 300w, wp-content/uploads/2015/05/6A0A1352-1024x683.jpg 1024w" sizes="(max-width: 300px) 100vw, 300px" /></a></p>
<p><a href="wp-content/uploads/2015/05/6A0A1348.jpg"><img class="aligncenter size-medium wp-image-546" src="wp-content/uploads/2015/05/6A0A1348-300x200.jpg" alt="6A0A1348" width="300" height="200" srcset="wp-content/uploads/2015/05/6A0A1348-300x200.jpg 300w, wp-content/uploads/2015/05/6A0A1348-1024x683.jpg 1024w" sizes="(max-width: 300px) 100vw, 300px" /></a></p>
<p style="text-align: center;"><em>Photographs by <a title="Karam Byun" href="http://www.byunnnn.com/" target="_blank">Karam Byun</a></em></p>
<p>Often, when photographing a person, the camera will output a passage from a novel featuring a character description that subjects seem to relate to. Many people have told me the results have qualities that remind them of horoscopes.</p>
</div>
				<div class="post-footer"><strong>Tags: </strong><a href="tag/art/index.html" rel="tag">art</a>, <a href="tag/artifical-intelligence/index.html" rel="tag">artifical intelligence</a>, <a href="tag/code/index.html" rel="tag">code</a>, <a href="tag/code-poetry/index.html" rel="tag">code poetry</a>, <a href="tag/computational-media/index.html" rel="tag">computational media</a>, <a href="tag/computer/index.html" rel="tag">computer</a>, <a href="tag/convo-comp/index.html" rel="tag">convo comp</a>, <a href="tag/fiction/index.html" rel="tag">fiction</a>, <a href="tag/fiction-camera/index.html" rel="tag">fiction camera</a>, <a href="tag/generative/index.html" rel="tag">generative</a>, <a href="tag/interactive/index.html" rel="tag">interactive</a>, <a href="tag/lexography/index.html" rel="tag">lexography</a>, <a href="tag/mamiya/index.html" rel="tag">mamiya</a>, <a href="tag/natural-language-generation/index.html" rel="tag">natural language generation</a>, <a href="tag/natural-language-processing/index.html" rel="tag">natural language processing</a>, <a href="tag/photography/index.html" rel="tag">photography</a>, <a href="tag/physical-computing/index.html" rel="tag">physical computing</a>, <a href="tag/poetry/index.html" rel="tag">poetry</a>, <a href="tag/programming/index.html" rel="tag">programming</a>, <a href="tag/python/index.html" rel="tag">python</a>, <a href="tag/raspberry-pi/index.html" rel="tag">raspberry pi</a>, <a href="tag/remix/index.html" rel="tag">remix</a>, <a href="tag/word-camera/index.html" rel="tag">word.camera</a>, <a href="tag/wordcamera/index.html" rel="tag">wordcamera</a></div>
							</div>
			<div class="post-navigation clear">
															<a class="post-prev" href="index.html@p=497.html"><em>Previous post</em><span>Text Clock</span></a>
																<a class="post-next" href="index.html@p=560.html"><em>Next post</em><span>Traveler's Lamp, Part II</span></a>
									<div class="line"></div>
			</div>
		</div>

			

			</div>
			<!-- /Content -->

			<div class="sidebar">
    <div id="text-3" class="widget_text widget"><h3>About</h3><div class="widget-body clear">			
    <div class="textwidget"><p><img src="wp-content/uploads/2014/08/selfportrait_200px.jpg" alt="self portrait" width=200 /></p>
    <p><br></p>
    <p>My name is <a href="http://rossgoodwin.com">Ross Goodwin</a>. I am a creative technologist, data scientist, artist, and MPS candidate at NYU Tisch ITP. Before attending ITP, I was a ghostwriter in the Obama administration, then became interested in computer code and natural language processing. I earned my BS in economics from MIT in 2009.</p>
    <p><br></p>
    <p>This blog will consist (almost) entirely of ITP related projects &amp; work in progress.</p>
    </div>
    </div>
    </div>
	<div id="text-5" class="widget_text widget">
	    <h3>Twitter</h3>
	    <a class="twitter-timeline" href="https://twitter.com/rossgoodwin" data-widget-id="641439634627633152">Tweets by @rossgoodwin</a>
		<script>!function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0],p=/^http:/.test(d.location)?'http':'https';if(!d.getElementById(id)){js=d.createElement(s);js.id=id;js.src=p+"://platform.twitter.com/widgets.js";fjs.parentNode.insertBefore(js,fjs);}}(document,"script","twitter-wjs");</script>
	</div>
	<div id="archives-7" class="widget_archive widget"><h3>Archive</h3><div class="widget-body clear">		<ul>
			<li><a href='2015/12/index.html'>December 2015</a>&nbsp;(2)</li>
	<li><a href='2015/11/index.html'>November 2015</a>&nbsp;(1)</li>
	<li><a href='2015/10/index.html'>October 2015</a>&nbsp;(5)</li>
	<li><a href='2015/09/index.html'>September 2015</a>&nbsp;(5)</li>
	<li><a href='2015/05/index.html'>May 2015</a>&nbsp;(2)</li>
	<li><a href='2015/04/index.html'>April 2015</a>&nbsp;(2)</li>
	<li><a href='2015/03/index.html'>March 2015</a>&nbsp;(1)</li>
	<li><a href='2015/02/index.html'>February 2015</a>&nbsp;(2)</li>
	<li><a href='2015/01/index.html'>January 2015</a>&nbsp;(1)</li>
	<li><a href='2014/12/index.html'>December 2014</a>&nbsp;(4)</li>
	<li><a href='2014/11/index.html'>November 2014</a>&nbsp;(5)</li>
	<li><a href='2014/10/index.html'>October 2014</a>&nbsp;(4)</li>
	<li><a href='2014/09/index.html'>September 2014</a>&nbsp;(7)</li>
	<li><a href='2014/08/index.html'>August 2014</a>&nbsp;(2)</li>
		</ul>
		</div></div><div id="categories-6" class="widget_categories widget"><h3>Categories</h3><div class="widget-body clear">		<ul>
	<li class="cat-item cat-item-33"><a href="category/fall-2014/index.html" title="ITP Courses Fall 2014">Fall 2014</a> (18)
<ul class='children'>
	<li class="cat-item cat-item-6"><a href="category/fall-2014/applications/index.html" title="Applications">Applications</a> (1)
</li>
	<li class="cat-item cat-item-5"><a href="category/fall-2014/automata/index.html" title="Automata: Telling Stories With Machines">Automata</a> (6)
</li>
	<li class="cat-item cat-item-4"><a href="category/fall-2014/cmedia/index.html" title="Introduction to Computational Media">Computational Media</a> (8)
</li>
	<li class="cat-item cat-item-7"><a href="category/fall-2014/network/index.html" title="Comm Lab: Networked Media">Networked Media</a> (2)
</li>
	<li class="cat-item cat-item-3"><a href="category/fall-2014/pcomp/index.html" title="Introduction to Physical Computing">Physical Computing</a> (6)
</li>
</ul>
</li>
	<li class="cat-item cat-item-160"><a href="category/fall-2015/index.html" title="ITP Courses Fall 2015">Fall 2015</a> (13)
<ul class='children'>
	<li class="cat-item cat-item-165"><a href="category/fall-2015/data-personal/index.html" title="Designing for Data Personalization">Data Personalization</a> (4)
</li>
	<li class="cat-item cat-item-164"><a href="category/fall-2015/learning-machines/index.html" title="Learning Machines">Learning Machines</a> (2)
</li>
	<li class="cat-item cat-item-162"><a href="category/fall-2015/a-to-z/index.html" title="Programming A to Z">Programming A to Z</a> (2)
</li>
	<li class="cat-item cat-item-161"><a href="category/fall-2015/project-dev/index.html" title="Project Development Studio">Project Development Studio</a> (6)
</li>
	<li class="cat-item cat-item-163"><a href="category/fall-2015/temp-exp/index.html" title="Temporary Expert">Temporary Expert</a> (3)
</li>
</ul>
</li>
	<li class="cat-item cat-item-119"><a href="category/spring-2015/index.html" title="ITP Courses Spring 2015">Spring 2015</a> (6)
<ul class='children'>
	<li class="cat-item cat-item-121"><a href="category/spring-2015/convo-comp/index.html" title="Conversation and Computation">Convo Comp</a> (3)
</li>
	<li class="cat-item cat-item-153"><a href="category/spring-2015/remix/index.html" title="this is the remix">Remix</a> (1)
</li>
	<li class="cat-item cat-item-120"><a href="category/spring-2015/sculpting-data/index.html" title="Sculpting Data Into Everyday Objects">Sculpting Data</a> (2)
</li>
	<li class="cat-item cat-item-122"><a href="category/spring-2015/storage-wars/index.html" title="Storage Wars: Narrating Data Archives">Storage Wars</a> (1)
</li>
</ul>
</li>
	<li class="cat-item cat-item-1"><a href="category/uncategorized/index.html" >Uncategorized</a> (7)
</li>
		</ul>
</div></div><div id="tag_cloud-5" class="widget_tag_cloud widget"><h3>Tags</h3><div class="widget-body clear"><div class="tagcloud"><a href="tag/3d/index.html" class="tag-cloud-link tag-link-84 tag-link-position-1" style="font-size: 9.6153846153846pt;" aria-label="3d (3 items)">3d</a>
<a href="tag/arduino/index.html" class="tag-cloud-link tag-link-66 tag-link-position-2" style="font-size: 14.326923076923pt;" aria-label="arduino (8 items)">arduino</a>
<a href="tag/art/index.html" class="tag-cloud-link tag-link-17 tag-link-position-3" style="font-size: 21.192307692308pt;" aria-label="art (28 items)">art</a>
<a href="tag/artifical-intelligence/index.html" class="tag-cloud-link tag-link-12 tag-link-position-4" style="font-size: 16.480769230769pt;" aria-label="artifical intelligence (12 items)">artifical intelligence</a>
<a href="tag/artificial-intelligence/index.html" class="tag-cloud-link tag-link-145 tag-link-position-5" style="font-size: 10.961538461538pt;" aria-label="artificial intelligence (4 items)">artificial intelligence</a>
<a href="tag/automata-2/index.html" class="tag-cloud-link tag-link-52 tag-link-position-6" style="font-size: 12.980769230769pt;" aria-label="automata (6 items)">automata</a>
<a href="tag/chess/index.html" class="tag-cloud-link tag-link-51 tag-link-position-7" style="font-size: 12.038461538462pt;" aria-label="chess (5 items)">chess</a>
<a href="tag/clarifai/index.html" class="tag-cloud-link tag-link-146 tag-link-position-8" style="font-size: 12.038461538462pt;" aria-label="clarifai (5 items)">clarifai</a>
<a href="tag/code/index.html" class="tag-cloud-link tag-link-15 tag-link-position-9" style="font-size: 21.596153846154pt;" aria-label="code (30 items)">code</a>
<a href="tag/code-poetry/index.html" class="tag-cloud-link tag-link-13 tag-link-position-10" style="font-size: 16.480769230769pt;" aria-label="code poetry (12 items)">code poetry</a>
<a href="tag/computational-media/index.html" class="tag-cloud-link tag-link-41 tag-link-position-11" style="font-size: 15.538461538462pt;" aria-label="computational media (10 items)">computational media</a>
<a href="tag/computer/index.html" class="tag-cloud-link tag-link-11 tag-link-position-12" style="font-size: 15pt;" aria-label="computer (9 items)">computer</a>
<a href="tag/data/index.html" class="tag-cloud-link tag-link-130 tag-link-position-13" style="font-size: 10.961538461538pt;" aria-label="data (4 items)">data</a>
<a href="tag/deep-learning/index.html" class="tag-cloud-link tag-link-186 tag-link-position-14" style="font-size: 9.6153846153846pt;" aria-label="deep learning (3 items)">deep learning</a>
<a href="tag/fiction/index.html" class="tag-cloud-link tag-link-98 tag-link-position-15" style="font-size: 13.653846153846pt;" aria-label="fiction (7 items)">fiction</a>
<a href="tag/fiction-generator/index.html" class="tag-cloud-link tag-link-101 tag-link-position-16" style="font-size: 10.961538461538pt;" aria-label="fiction generator (4 items)">fiction generator</a>
<a href="tag/flickr/index.html" class="tag-cloud-link tag-link-18 tag-link-position-17" style="font-size: 8pt;" aria-label="flickr (2 items)">flickr</a>
<a href="tag/generative/index.html" class="tag-cloud-link tag-link-16 tag-link-position-18" style="font-size: 17.019230769231pt;" aria-label="generative (13 items)">generative</a>
<a href="tag/gui/index.html" class="tag-cloud-link tag-link-69 tag-link-position-19" style="font-size: 10.961538461538pt;" aria-label="gui (4 items)">gui</a>
<a href="tag/image/index.html" class="tag-cloud-link tag-link-23 tag-link-position-20" style="font-size: 15.538461538462pt;" aria-label="image (10 items)">image</a>
<a href="tag/image-manipulation/index.html" class="tag-cloud-link tag-link-30 tag-link-position-21" style="font-size: 8pt;" aria-label="image manipulation (2 items)">image manipulation</a>
<a href="tag/interaction/index.html" class="tag-cloud-link tag-link-48 tag-link-position-22" style="font-size: 10.961538461538pt;" aria-label="interaction (4 items)">interaction</a>
<a href="tag/interactive/index.html" class="tag-cloud-link tag-link-45 tag-link-position-23" style="font-size: 16.076923076923pt;" aria-label="interactive (11 items)">interactive</a>
<a href="tag/interactivity/index.html" class="tag-cloud-link tag-link-46 tag-link-position-24" style="font-size: 10.961538461538pt;" aria-label="interactivity (4 items)">interactivity</a>
<a href="tag/itp/index.html" class="tag-cloud-link tag-link-21 tag-link-position-25" style="font-size: 16.480769230769pt;" aria-label="itp (12 items)">itp</a>
<a href="tag/keyboard/index.html" class="tag-cloud-link tag-link-93 tag-link-position-26" style="font-size: 9.6153846153846pt;" aria-label="keyboard (3 items)">keyboard</a>
<a href="tag/mechanical-turk/index.html" class="tag-cloud-link tag-link-50 tag-link-position-27" style="font-size: 12.038461538462pt;" aria-label="mechanical turk (5 items)">mechanical turk</a>
<a href="tag/mechanical-turks-ghost/index.html" class="tag-cloud-link tag-link-59 tag-link-position-28" style="font-size: 10.961538461538pt;" aria-label="mechanical turk&#039;s ghost (4 items)">mechanical turk&#039;s ghost</a>
<a href="tag/natural-language-generation/index.html" class="tag-cloud-link tag-link-35 tag-link-position-29" style="font-size: 16.076923076923pt;" aria-label="natural language generation (11 items)">natural language generation</a>
<a href="tag/natural-language-processing/index.html" class="tag-cloud-link tag-link-34 tag-link-position-30" style="font-size: 18.096153846154pt;" aria-label="natural language processing (16 items)">natural language processing</a>
<a href="tag/neural-networks/index.html" class="tag-cloud-link tag-link-184 tag-link-position-31" style="font-size: 12.038461538462pt;" aria-label="neural networks (5 items)">neural networks</a>
<a href="tag/novel-generator/index.html" class="tag-cloud-link tag-link-106 tag-link-position-32" style="font-size: 9.6153846153846pt;" aria-label="novel generator (3 items)">novel generator</a>
<a href="tag/photography/index.html" class="tag-cloud-link tag-link-19 tag-link-position-33" style="font-size: 12.980769230769pt;" aria-label="photography (6 items)">photography</a>
<a href="tag/physical-computing/index.html" class="tag-cloud-link tag-link-44 tag-link-position-34" style="font-size: 16.480769230769pt;" aria-label="physical computing (12 items)">physical computing</a>
<a href="tag/poem/index.html" class="tag-cloud-link tag-link-10 tag-link-position-35" style="font-size: 10.961538461538pt;" aria-label="poem (4 items)">poem</a>
<a href="tag/poetry/index.html" class="tag-cloud-link tag-link-9 tag-link-position-36" style="font-size: 12.980769230769pt;" aria-label="poetry (6 items)">poetry</a>
<a href="tag/processing/index.html" class="tag-cloud-link tag-link-38 tag-link-position-37" style="font-size: 15pt;" aria-label="processing (9 items)">processing</a>
<a href="tag/programming/index.html" class="tag-cloud-link tag-link-28 tag-link-position-38" style="font-size: 22pt;" aria-label="programming (32 items)">programming</a>
<a href="tag/python/index.html" class="tag-cloud-link tag-link-14 tag-link-position-39" style="font-size: 21.057692307692pt;" aria-label="python (27 items)">python</a>
<a href="tag/raspberry-pi/index.html" class="tag-cloud-link tag-link-60 tag-link-position-40" style="font-size: 15pt;" aria-label="raspberry pi (9 items)">raspberry pi</a>
<a href="tag/sound-camera/index.html" class="tag-cloud-link tag-link-183 tag-link-position-41" style="font-size: 10.961538461538pt;" aria-label="sound camera (4 items)">sound camera</a>
<a href="tag/stenographer/index.html" class="tag-cloud-link tag-link-92 tag-link-position-42" style="font-size: 9.6153846153846pt;" aria-label="stenographer (3 items)">stenographer</a>
<a href="tag/typing/index.html" class="tag-cloud-link tag-link-94 tag-link-position-43" style="font-size: 9.6153846153846pt;" aria-label="typing (3 items)">typing</a>
<a href="tag/visualization/index.html" class="tag-cloud-link tag-link-42 tag-link-position-44" style="font-size: 12.980769230769pt;" aria-label="visualization (6 items)">visualization</a>
<a href="tag/word-camera/index.html" class="tag-cloud-link tag-link-149 tag-link-position-45" style="font-size: 14.326923076923pt;" aria-label="word.camera (8 items)">word.camera</a></div>
</div></div></div>

			</div>
			<!-- /Container -->

			<div class="footer">
				<p class="copyright">&copy; 2014 <a href="index.html">THE HYPERTEXT</a>.
					All Rights Reserved.<br />
				</p>
			</div>
		</div>
		<!-- Page generated: 0.785 s, 35 queries -->
		<script type='text/javascript' src='wp-content/themes/sight/js/script.js@ver=20131219'></script>

			</body>
</html>
